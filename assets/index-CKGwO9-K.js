var Pt=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)};var de=(e,t,n)=>(Pt(e,t,"read from private field"),n?n.call(e):t.get(e)),Lt=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},kt=(e,t,n,i)=>(Pt(e,t,"write to private field"),i?i.call(e,n):t.set(e,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const d of s.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function n(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(a){if(a.ep)return;a.ep=!0;const s=n(a);fetch(a.href,s)}})();const sr={context:void 0,registry:void 0},ar=(e,t)=>e===t,Z=Symbol("solid-proxy"),rt=Symbol("solid-track"),ke={equals:ar};let Wt=Qt;const ce=1,Be=2,Kt={owned:null,cleanups:null,context:null,owner:null};var U=null;let tt=null,fr=null,M=null,W=null,se=null,ze=0;function Pe(e,t){const n=M,i=U,a=e.length===0,s=t===void 0?i:t,d=a?Kt:{owned:null,cleanups:null,context:s?s.context:null,owner:s},u=a?e:()=>e(()=>ae(()=>We(d)));U=d,M=null;try{return pe(u,!0)}finally{M=n,U=i}}function Vt(e,t){t=t?Object.assign({},ke,t):ke;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},i=a=>(typeof a=="function"&&(a=a(n.value)),Xt(n,a));return[Gt.bind(n),i]}function te(e,t,n){const i=ct(e,t,!1,ce);$e(i)}function Ht(e,t,n){Wt=hr;const i=ct(e,t,!1,ce);i.user=!0,se?se.push(i):$e(i)}function Me(e,t,n){n=n?Object.assign({},ke,n):ke;const i=ct(e,t,!0,0);return i.observers=null,i.observerSlots=null,i.comparator=n.equals||void 0,$e(i),Gt.bind(i)}function ur(e){return pe(e,!1)}function ae(e){if(M===null)return e();const t=M;M=null;try{return e()}finally{M=t}}function lr(e){return U===null||(U.cleanups===null?U.cleanups=[e]:U.cleanups.push(e)),e}function it(){return M}function Gt(){if(this.sources&&this.state)if(this.state===ce)$e(this);else{const e=W;W=null,pe(()=>je(this),!1),W=e}if(M){const e=this.observers?this.observers.length:0;M.sources?(M.sources.push(this),M.sourceSlots.push(e)):(M.sources=[this],M.sourceSlots=[e]),this.observers?(this.observers.push(M),this.observerSlots.push(M.sources.length-1)):(this.observers=[M],this.observerSlots=[M.sources.length-1])}return this.value}function Xt(e,t,n){let i=e.value;return(!e.comparator||!e.comparator(i,t))&&(e.value=t,e.observers&&e.observers.length&&pe(()=>{for(let a=0;a<e.observers.length;a+=1){const s=e.observers[a],d=tt&&tt.running;d&&tt.disposed.has(s),(d?!s.tState:!s.state)&&(s.pure?W.push(s):se.push(s),s.observers&&Jt(s)),d||(s.state=ce)}if(W.length>1e6)throw W=[],new Error},!1)),t}function $e(e){if(!e.fn)return;We(e);const t=ze;cr(e,e.value,t)}function cr(e,t,n){let i;const a=U,s=M;M=U=e;try{i=e.fn(t)}catch(d){return e.pure&&(e.state=ce,e.owned&&e.owned.forEach(We),e.owned=null),e.updatedAt=n+1,qt(d)}finally{M=s,U=a}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?Xt(e,i):e.value=i,e.updatedAt=n)}function ct(e,t,n,i=ce,a){const s={fn:e,state:i,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:U,context:U?U.context:null,pure:n};return U===null||U!==Kt&&(U.owned?U.owned.push(s):U.owned=[s]),s}function Fe(e){if(e.state===0)return;if(e.state===Be)return je(e);if(e.suspense&&ae(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<ze);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===ce)$e(e);else if(e.state===Be){const i=W;W=null,pe(()=>je(e,t[0]),!1),W=i}}function pe(e,t){if(W)return e();let n=!1;t||(W=[]),se?n=!0:se=[],ze++;try{const i=e();return dr(n),i}catch(i){n||(se=null),W=null,qt(i)}}function dr(e){if(W&&(Qt(W),W=null),e)return;const t=se;se=null,t.length&&pe(()=>Wt(t),!1)}function Qt(e){for(let t=0;t<e.length;t++)Fe(e[t])}function hr(e){let t,n=0;for(t=0;t<e.length;t++){const i=e[t];i.user?e[n++]=i:Fe(i)}for(t=0;t<n;t++)Fe(e[t])}function je(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const i=e.sources[n];if(i.sources){const a=i.state;a===ce?i!==t&&(!i.updatedAt||i.updatedAt<ze)&&Fe(i):a===Be&&je(i,t)}}}function Jt(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=Be,n.pure?W.push(n):se.push(n),n.observers&&Jt(n))}}function We(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),i=e.sourceSlots.pop(),a=n.observers;if(a&&a.length){const s=a.pop(),d=n.observerSlots.pop();i<a.length&&(s.sourceSlots[d]=i,a[i]=s,n.observerSlots[i]=d)}}if(e.owned){for(t=e.owned.length-1;t>=0;t--)We(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function vr(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function qt(e,t=U){throw vr(e)}const mr=Symbol("fallback");function Bt(e){for(let t=0;t<e.length;t++)e[t]()}function gr(e,t,n={}){let i=[],a=[],s=[],d=0,u=t.length>1?[]:null;return lr(()=>Bt(s)),()=>{let p=e()||[],g,v;return p[rt],ae(()=>{let b=p.length,I,$,k,R,F,D,K,Y,E;if(b===0)d!==0&&(Bt(s),s=[],i=[],a=[],d=0,u&&(u=[])),n.fallback&&(i=[mr],a[0]=Pe(N=>(s[0]=N,n.fallback())),d=1);else if(d===0){for(a=new Array(b),v=0;v<b;v++)i[v]=p[v],a[v]=Pe(m);d=b}else{for(k=new Array(b),R=new Array(b),u&&(F=new Array(b)),D=0,K=Math.min(d,b);D<K&&i[D]===p[D];D++);for(K=d-1,Y=b-1;K>=D&&Y>=D&&i[K]===p[Y];K--,Y--)k[Y]=a[K],R[Y]=s[K],u&&(F[Y]=u[K]);for(I=new Map,$=new Array(Y+1),v=Y;v>=D;v--)E=p[v],g=I.get(E),$[v]=g===void 0?-1:g,I.set(E,v);for(g=D;g<=K;g++)E=i[g],v=I.get(E),v!==void 0&&v!==-1?(k[v]=a[g],R[v]=s[g],u&&(F[v]=u[g]),v=$[v],I.set(E,v)):s[g]();for(v=D;v<b;v++)v in k?(a[v]=k[v],s[v]=R[v],u&&(u[v]=F[v],u[v](v))):a[v]=Pe(m);a=a.slice(0,d=b),i=p.slice(0)}return a});function m(b){if(s[v]=b,u){const[I,$]=Vt(v);return u[v]=$,t(p[v],I)}return t(p[v])}}}let yr=!1;function V(e,t){return ae(()=>e(t||{}))}function Ne(){return!0}const ot={get(e,t,n){return t===Z?n:e.get(t)},has(e,t){return t===Z?!0:e.has(t)},set:Ne,deleteProperty:Ne,getOwnPropertyDescriptor(e,t){return{configurable:!0,enumerable:!0,get(){return e.get(t)},set:Ne,deleteProperty:Ne}},ownKeys(e){return e.keys()}};function nt(e){return(e=typeof e=="function"?e():e)?e:{}}function br(){for(let e=0,t=this.length;e<t;++e){const n=this[e]();if(n!==void 0)return n}}function wr(...e){let t=!1;for(let d=0;d<e.length;d++){const u=e[d];t=t||!!u&&Z in u,e[d]=typeof u=="function"?(t=!0,Me(u)):u}if(t)return new Proxy({get(d){for(let u=e.length-1;u>=0;u--){const p=nt(e[u])[d];if(p!==void 0)return p}},has(d){for(let u=e.length-1;u>=0;u--)if(d in nt(e[u]))return!0;return!1},keys(){const d=[];for(let u=0;u<e.length;u++)d.push(...Object.keys(nt(e[u])));return[...new Set(d)]}},ot);const n={},i=Object.create(null);for(let d=e.length-1;d>=0;d--){const u=e[d];if(!u)continue;const p=Object.getOwnPropertyNames(u);for(let g=p.length-1;g>=0;g--){const v=p[g];if(v==="__proto__"||v==="constructor")continue;const m=Object.getOwnPropertyDescriptor(u,v);if(!i[v])i[v]=m.get?{enumerable:!0,configurable:!0,get:br.bind(n[v]=[m.get.bind(u)])}:m.value!==void 0?m:void 0;else{const b=n[v];b&&(m.get?b.push(m.get.bind(u)):m.value!==void 0&&b.push(()=>m.value))}}}const a={},s=Object.keys(i);for(let d=s.length-1;d>=0;d--){const u=s[d],p=i[u];p&&p.get?Object.defineProperty(a,u,p):a[u]=p?p.value:void 0}return a}function pr(e,...t){if(Z in e){const a=new Set(t.length>1?t.flat():t[0]),s=t.map(d=>new Proxy({get(u){return d.includes(u)?e[u]:void 0},has(u){return d.includes(u)&&u in e},keys(){return d.filter(u=>u in e)}},ot));return s.push(new Proxy({get(d){return a.has(d)?void 0:e[d]},has(d){return a.has(d)?!1:d in e},keys(){return Object.keys(e).filter(d=>!a.has(d))}},ot)),s}const n={},i=t.map(()=>({}));for(const a of Object.getOwnPropertyNames(e)){const s=Object.getOwnPropertyDescriptor(e,a),d=!s.get&&!s.set&&s.enumerable&&s.writable&&s.configurable;let u=!1,p=0;for(const g of t)g.includes(a)&&(u=!0,d?i[p][a]=s.value:Object.defineProperty(i[p],a,s)),++p;u||(d?n[a]=s.value:Object.defineProperty(n,a,s))}return[...i,n]}let _r=0;function Tr(){const e=sr.context;return e?`${e.id}${e.count++}`:`cl-${_r++}`}const Sr=e=>`Stale read from <${e}>.`;function Er(e){const t="fallback"in e&&{fallback:()=>e.fallback};return Me(gr(()=>e.each,e.children,t||void 0))}function he(e){const t=e.keyed,n=Me(()=>e.when,void 0,{equals:(i,a)=>t?i===a:!i==!a});return Me(()=>{const i=n();if(i){const a=e.children;return typeof a=="function"&&a.length>0?ae(()=>a(t?i:()=>{if(!ae(n))throw Sr("Show");return e.when})):a}return e.fallback},void 0,void 0)}const Ar=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],Ir=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...Ar]),$r=new Set(["innerHTML","textContent","innerText","children"]),Or=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),xr=Object.assign(Object.create(null),{class:"className",formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}});function Dr(e,t){const n=xr[e];return typeof n=="object"?n[t]?n.$:void 0:n}const Nr=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]);function Rr(e,t,n){let i=n.length,a=t.length,s=i,d=0,u=0,p=t[a-1].nextSibling,g=null;for(;d<a||u<s;){if(t[d]===n[u]){d++,u++;continue}for(;t[a-1]===n[s-1];)a--,s--;if(a===d){const v=s<i?u?n[u-1].nextSibling:n[s-u]:p;for(;u<s;)e.insertBefore(n[u++],v)}else if(s===u)for(;d<a;)(!g||!g.has(t[d]))&&t[d].remove(),d++;else if(t[d]===n[s-1]&&n[u]===t[a-1]){const v=t[--a].nextSibling;e.insertBefore(n[u++],t[d++].nextSibling),e.insertBefore(n[--s],v),t[a]=n[s]}else{if(!g){g=new Map;let m=u;for(;m<s;)g.set(n[m],m++)}const v=g.get(t[d]);if(v!=null)if(u<v&&v<s){let m=d,b=1,I;for(;++m<a&&m<s&&!((I=g.get(t[m]))==null||I!==v+b);)b++;if(b>v-u){const $=t[d];for(;u<v;)e.insertBefore(n[u++],$)}else e.replaceChild(n[u++],t[d++])}else d++;else t[d++].remove()}}}const Mt="_$DX_DELEGATE";function Cr(e,t,n,i={}){let a;return Pe(s=>{a=s,t===document?e():G(t,e(),t.firstChild?null:void 0,n)},i.owner),()=>{a(),t.textContent=""}}function ne(e,t,n){let i;const a=()=>{const d=document.createElement("template");return d.innerHTML=e,d.content.firstChild},s=()=>(i||(i=a())).cloneNode(!0);return s.cloneNode=s,s}function dt(e,t=window.document){const n=t[Mt]||(t[Mt]=new Set);for(let i=0,a=e.length;i<a;i++){const s=e[i];n.has(s)||(n.add(s),t.addEventListener(s,jr))}}function st(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function at(e,t){t==null?e.removeAttribute("class"):e.className=t}function Zt(e,t,n,i){if(i)Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n;else if(Array.isArray(n)){const a=n[0];e.addEventListener(t,n[0]=s=>a.call(e,n[1],s))}else e.addEventListener(t,n)}function Pr(e,t,n={}){const i=Object.keys(t||{}),a=Object.keys(n);let s,d;for(s=0,d=a.length;s<d;s++){const u=a[s];!u||u==="undefined"||t[u]||(Ft(e,u,!1),delete n[u])}for(s=0,d=i.length;s<d;s++){const u=i[s],p=!!t[u];!u||u==="undefined"||n[u]===p||!p||(Ft(e,u,!0),n[u]=p)}return n}function Lr(e,t,n){if(!t)return n?st(e,"style"):t;const i=e.style;if(typeof t=="string")return i.cssText=t;typeof n=="string"&&(i.cssText=n=void 0),n||(n={}),t||(t={});let a,s;for(s in n)t[s]==null&&i.removeProperty(s),delete n[s];for(s in t)a=t[s],a!==n[s]&&(i.setProperty(s,a),n[s]=a);return n}function kr(e,t={},n,i){const a={};return te(()=>typeof t.ref=="function"?Br(t.ref,e):t.ref=e),te(()=>Mr(e,t,n,!0,a,!0)),a}function Br(e,t,n){return ae(()=>e(t,n))}function G(e,t,n,i){if(n!==void 0&&!i&&(i=[]),typeof t!="function")return Ue(e,t,i,n);te(a=>Ue(e,t(),a,n),i)}function Mr(e,t,n,i,a={},s=!1){t||(t={});for(const d in a)if(!(d in t)){if(d==="children")continue;a[d]=jt(e,d,null,a[d],n,s)}for(const d in t){if(d==="children")continue;const u=t[d];a[d]=jt(e,d,u,a[d],n,s)}}function Fr(e){return e.toLowerCase().replace(/-([a-z])/g,(t,n)=>n.toUpperCase())}function Ft(e,t,n){const i=t.trim().split(/\s+/);for(let a=0,s=i.length;a<s;a++)e.classList.toggle(i[a],n)}function jt(e,t,n,i,a,s){let d,u,p,g,v;if(t==="style")return Lr(e,n,i);if(t==="classList")return Pr(e,n,i);if(n===i)return i;if(t==="ref")s||n(e);else if(t.slice(0,3)==="on:"){const m=t.slice(3);i&&e.removeEventListener(m,i),n&&e.addEventListener(m,n)}else if(t.slice(0,10)==="oncapture:"){const m=t.slice(10);i&&e.removeEventListener(m,i,!0),n&&e.addEventListener(m,n,!0)}else if(t.slice(0,2)==="on"){const m=t.slice(2).toLowerCase(),b=Nr.has(m);if(!b&&i){const I=Array.isArray(i)?i[0]:i;e.removeEventListener(m,I)}(b||n)&&(Zt(e,m,n,b),b&&dt([m]))}else t.slice(0,5)==="attr:"?st(e,t.slice(5),n):(v=t.slice(0,5)==="prop:")||(p=$r.has(t))||(g=Dr(t,e.tagName))||(u=Ir.has(t))||(d=e.nodeName.includes("-"))?(v&&(t=t.slice(5),u=!0),t==="class"||t==="className"?at(e,n):d&&!u&&!p?e[Fr(t)]=n:e[g||t]=n):st(e,Or[t]||t,n);return n}function jr(e){const t=`$$${e.type}`;let n=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==n&&Object.defineProperty(e,"target",{configurable:!0,value:n}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return n||document}});n;){const i=n[t];if(i&&!n.disabled){const a=n[`${t}Data`];if(a!==void 0?i.call(n,a,e):i.call(n,e),e.cancelBubble)return}n=n._$host||n.parentNode||n.host}}function Ue(e,t,n,i,a){for(;typeof n=="function";)n=n();if(t===n)return n;const s=typeof t,d=i!==void 0;if(e=d&&n[0]&&n[0].parentNode||e,s==="string"||s==="number")if(s==="number"&&(t=t.toString()),d){let u=n[0];u&&u.nodeType===3?u.data!==t&&(u.data=t):u=document.createTextNode(t),n=ge(e,n,i,u)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t;else if(t==null||s==="boolean")n=ge(e,n,i);else{if(s==="function")return te(()=>{let u=t();for(;typeof u=="function";)u=u();n=Ue(e,u,n,i)}),()=>n;if(Array.isArray(t)){const u=[],p=n&&Array.isArray(n);if(ft(u,t,n,a))return te(()=>n=Ue(e,u,n,i,!0)),()=>n;if(u.length===0){if(n=ge(e,n,i),d)return n}else p?n.length===0?Ut(e,u,i):Rr(e,n,u):(n&&ge(e),Ut(e,u));n=u}else if(t.nodeType){if(Array.isArray(n)){if(d)return n=ge(e,n,i,t);ge(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function ft(e,t,n,i){let a=!1;for(let s=0,d=t.length;s<d;s++){let u=t[s],p=n&&n[e.length],g;if(!(u==null||u===!0||u===!1))if((g=typeof u)=="object"&&u.nodeType)e.push(u);else if(Array.isArray(u))a=ft(e,u,p)||a;else if(g==="function")if(i){for(;typeof u=="function";)u=u();a=ft(e,Array.isArray(u)?u:[u],Array.isArray(p)?p:[p])||a}else e.push(u),a=!0;else{const v=String(u);p&&p.nodeType===3&&p.data===v?e.push(p):e.push(document.createTextNode(v))}}return a}function Ut(e,t,n=null){for(let i=0,a=t.length;i<a;i++)e.insertBefore(t[i],n)}function ge(e,t,n,i){if(n===void 0)return e.textContent="";const a=i||document.createTextNode("");if(t.length){let s=!1;for(let d=t.length-1;d>=0;d--){const u=t[d];if(a!==u){const p=u.parentNode===e;!s&&!d?p?e.replaceChild(a,u):e.insertBefore(a,n):p&&u.remove()}else s=!0}}else e.insertBefore(a,n);return[a]}const ut=Symbol("store-raw"),be=Symbol("store-node"),oe=Symbol("store-has"),en=Symbol("store-self");function tn(e){let t=e[Z];if(!t&&(Object.defineProperty(e,Z,{value:t=new Proxy(e,zr)}),!Array.isArray(e))){const n=Object.keys(e),i=Object.getOwnPropertyDescriptors(e);for(let a=0,s=n.length;a<s;a++){const d=n[a];i[d].get&&Object.defineProperty(e,d,{enumerable:i[d].enumerable,get:i[d].get.bind(t)})}}return t}function le(e){let t;return e!=null&&typeof e=="object"&&(e[Z]||!(t=Object.getPrototypeOf(e))||t===Object.prototype||Array.isArray(e))}function we(e,t=new Set){let n,i,a,s;if(n=e!=null&&e[ut])return n;if(!le(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let d=0,u=e.length;d<u;d++)a=e[d],(i=we(a,t))!==a&&(e[d]=i)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const d=Object.keys(e),u=Object.getOwnPropertyDescriptors(e);for(let p=0,g=d.length;p<g;p++)s=d[p],!u[s].get&&(a=e[s],(i=we(a,t))!==a&&(e[s]=i))}return e}function Ye(e,t){let n=e[t];return n||Object.defineProperty(e,t,{value:n=Object.create(null)}),n}function Ie(e,t,n){if(e[t])return e[t];const[i,a]=Vt(n,{equals:!1,internal:!0});return i.$=a,e[t]=i}function Ur(e,t){const n=Reflect.getOwnPropertyDescriptor(e,t);return!n||n.get||!n.configurable||t===Z||t===be||(delete n.value,delete n.writable,n.get=()=>e[Z][t]),n}function nn(e){it()&&Ie(Ye(e,be),en)()}function Yr(e){return nn(e),Reflect.ownKeys(e)}const zr={get(e,t,n){if(t===ut)return e;if(t===Z)return n;if(t===rt)return nn(e),n;const i=Ye(e,be),a=i[t];let s=a?a():e[t];if(t===be||t===oe||t==="__proto__")return s;if(!a){const d=Object.getOwnPropertyDescriptor(e,t);it()&&(typeof s!="function"||e.hasOwnProperty(t))&&!(d&&d.get)&&(s=Ie(i,t,s)())}return le(s)?tn(s):s},has(e,t){return t===ut||t===Z||t===rt||t===be||t===oe||t==="__proto__"?!0:(it()&&Ie(Ye(e,oe),t)(),t in e)},set(){return!0},deleteProperty(){return!0},ownKeys:Yr,getOwnPropertyDescriptor:Ur};function q(e,t,n,i=!1){if(!i&&e[t]===n)return;const a=e[t],s=e.length;n===void 0?(delete e[t],e[oe]&&e[oe][t]&&a!==void 0&&e[oe][t].$()):(e[t]=n,e[oe]&&e[oe][t]&&a===void 0&&e[oe][t].$());let d=Ye(e,be),u;if((u=Ie(d,t,a))&&u.$(()=>n),Array.isArray(e)&&e.length!==s){for(let p=e.length;p<s;p++)(u=d[p])&&u.$();(u=Ie(d,"length",s))&&u.$(e.length)}(u=d[en])&&u.$()}function rn(e,t){const n=Object.keys(t);for(let i=0;i<n.length;i+=1){const a=n[i];q(e,a,t[a])}}function Wr(e,t){if(typeof t=="function"&&(t=t(e)),t=we(t),Array.isArray(t)){if(e===t)return;let n=0,i=t.length;for(;n<i;n++){const a=t[n];e[n]!==a&&q(e,n,a)}q(e,"length",i)}else rn(e,t)}function Ae(e,t,n=[]){let i,a=e;if(t.length>1){i=t.shift();const d=typeof i,u=Array.isArray(e);if(Array.isArray(i)){for(let p=0;p<i.length;p++)Ae(e,[i[p]].concat(t),n);return}else if(u&&d==="function"){for(let p=0;p<e.length;p++)i(e[p],p)&&Ae(e,[p].concat(t),n);return}else if(u&&d==="object"){const{from:p=0,to:g=e.length-1,by:v=1}=i;for(let m=p;m<=g;m+=v)Ae(e,[m].concat(t),n);return}else if(t.length>1){Ae(e[i],t,[i].concat(n));return}a=e[i],n=[i].concat(n)}let s=t[0];typeof s=="function"&&(s=s(a,n),s===a)||i===void 0&&s==null||(s=we(s),i===void 0||le(a)&&le(s)&&!Array.isArray(s)?rn(a,s):q(e,i,s))}function Kr(...[e,t]){const n=we(e||{}),i=Array.isArray(n),a=tn(n);function s(...d){ur(()=>{i&&d.length===1?Wr(n,d[0]):Ae(n,d)})}return[a,s]}const lt=Symbol("store-root");function ye(e,t,n,i,a){const s=t[n];if(e===s)return;const d=Array.isArray(e);if(n!==lt&&(!le(e)||!le(s)||d!==Array.isArray(s)||a&&e[a]!==s[a])){q(t,n,e);return}if(d){if(e.length&&s.length&&(!i||a&&e[0]&&e[0][a]!=null)){let g,v,m,b,I,$,k,R;for(m=0,b=Math.min(s.length,e.length);m<b&&(s[m]===e[m]||a&&s[m]&&e[m]&&s[m][a]===e[m][a]);m++)ye(e[m],s,m,i,a);const F=new Array(e.length),D=new Map;for(b=s.length-1,I=e.length-1;b>=m&&I>=m&&(s[b]===e[I]||a&&s[m]&&e[m]&&s[b][a]===e[I][a]);b--,I--)F[I]=s[b];if(m>I||m>b){for(v=m;v<=I;v++)q(s,v,e[v]);for(;v<e.length;v++)q(s,v,F[v]),ye(e[v],s,v,i,a);s.length>e.length&&q(s,"length",e.length);return}for(k=new Array(I+1),v=I;v>=m;v--)$=e[v],R=a&&$?$[a]:$,g=D.get(R),k[v]=g===void 0?-1:g,D.set(R,v);for(g=m;g<=b;g++)$=s[g],R=a&&$?$[a]:$,v=D.get(R),v!==void 0&&v!==-1&&(F[v]=s[g],v=k[v],D.set(R,v));for(v=m;v<e.length;v++)v in F?(q(s,v,F[v]),ye(e[v],s,v,i,a)):q(s,v,e[v])}else for(let g=0,v=e.length;g<v;g++)ye(e[g],s,g,i,a);s.length>e.length&&q(s,"length",e.length);return}const u=Object.keys(e);for(let g=0,v=u.length;g<v;g++)ye(e[u[g]],s,u[g],i,a);const p=Object.keys(s);for(let g=0,v=p.length;g<v;g++)e[p[g]]===void 0&&q(s,p[g],void 0)}function Vr(e,t={}){const{merge:n,key:i="id"}=t,a=we(e);return s=>{if(!le(s)||!le(a))return a;const d=ye(a,{[lt]:s},lt,n,i);return d===void 0?s:d}}var Hr=e=>(typeof e.clear=="function"||(e.clear=()=>{let t;for(;t=e.key(0);)e.removeItem(t)}),e),Gr=["clear","getItem","getAll","setItem","removeItem","key","getLength"],Xr=e=>(e.withOptions=t=>Gr.reduce((n,i)=>(typeof e[i]=="function"&&(n[i]=(...a)=>(a[e[i].length-1]=t,e[i](...a))),n),{get length(){return e.length},withOptions:n=>e.withOptions(n)}),e),Qr=["domain","expires","path","secure","httpOnly","maxAge","sameSite"];function Jr(e){if(!e)return"";let t="";for(const n in e){if(!Qr.includes(n))continue;const i=e[n];t+=i instanceof Date?`; ${n}=${i.toUTCString()}`:typeof i=="boolean"?`; ${n}`:`; ${n}=${i}`}return t}function qr(e,t){var n;return((n=e.match(`(^|;)\\s*${t}\\s*=\\s*([^;]+)`))==null?void 0:n.pop())??null}var Ee=Xr(Hr({_read:()=>document.cookie,_write:(e,t,n)=>{document.cookie=`${e}=${t}${Jr(n)}`},getItem:(e,t)=>qr(Ee._read(t),e),setItem:(e,t,n)=>{Ee._write(e,t,n)},removeItem:(e,t)=>{Ee._write(e,"deleted",{...t,expires:new Date(0)})},key:(e,t)=>{let n=null,i=0;return Ee._read(t).replace(/(?:^|;)\s*(.+?)\s*=\s*[^;]+/g,(a,s)=>(!n&&s&&i++===e&&(n=s),"")),n},getLength:e=>{let t=0;return Ee._read(e).replace(/(?:^|;)\s*.+?\s*=\s*[^;]+/g,n=>(t+=n?1:0,"")),t},get length(){return this.getLength()}}));function Zr(e,t={}){var v;const n=t.storage||globalThis.localStorage;if(!n)return e;const i=t.storageOptions,a=t.name||`storage-${Tr()}`,s=t.serialize||JSON.stringify.bind(JSON),d=t.deserialize||JSON.parse.bind(JSON),u=n.getItem(a,i),p=typeof e[0]=="function"?m=>{try{const b=d(m);e[1](()=>b)}catch{}}:m=>{try{const b=d(m);e[1](Vr(b))}catch{}};let g=!0;if(u instanceof Promise?u.then(m=>g&&m&&p(m)):u&&p(u),typeof((v=t.sync)==null?void 0:v[0])=="function"){const m=typeof e[0]=="function"?e[0]:()=>e[0];t.sync[0](b=>{b.key!==a||(b.url||globalThis.location.href)!==globalThis.location.href||b.newValue===s(ae(m))||p(b.newValue)})}return[e[0],typeof e[0]=="function"?m=>{var $;const b=e[1](m),I=m!=null?s(b):m;return($=t.sync)==null||$[1](a,I),m!=null?n.setItem(a,I,i):n.removeItem(a,i),g=!1,b}:(...m)=>{var I;e[1](...m);const b=s(ae(()=>e[0]));(I=t.sync)==null||I[1](a,b),n.setItem(a,b,i),g=!1}]}var Re=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ce(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var on={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(e,t){(function(n){e.exports=n()})(function(){return function n(i,a,s){function d(g,v){if(!a[g]){if(!i[g]){var m=typeof Ce=="function"&&Ce;if(!v&&m)return m(g,!0);if(u)return u(g,!0);var b=new Error("Cannot find module '"+g+"'");throw b.code="MODULE_NOT_FOUND",b}var I=a[g]={exports:{}};i[g][0].call(I.exports,function($){var k=i[g][1][$];return d(k||$)},I,I.exports,n,i,a,s)}return a[g].exports}for(var u=typeof Ce=="function"&&Ce,p=0;p<s.length;p++)d(s[p]);return d}({1:[function(n,i,a){(function(s){var d=s.MutationObserver||s.WebKitMutationObserver,u;if(d){var p=0,g=new d($),v=s.document.createTextNode("");g.observe(v,{characterData:!0}),u=function(){v.data=p=++p%2}}else if(!s.setImmediate&&typeof s.MessageChannel<"u"){var m=new s.MessageChannel;m.port1.onmessage=$,u=function(){m.port2.postMessage(0)}}else"document"in s&&"onreadystatechange"in s.document.createElement("script")?u=function(){var R=s.document.createElement("script");R.onreadystatechange=function(){$(),R.onreadystatechange=null,R.parentNode.removeChild(R),R=null},s.document.documentElement.appendChild(R)}:u=function(){setTimeout($,0)};var b,I=[];function $(){b=!0;for(var R,F,D=I.length;D;){for(F=I,I=[],R=-1;++R<D;)F[R]();D=I.length}b=!1}i.exports=k;function k(R){I.push(R)===1&&!b&&u()}}).call(this,typeof Re<"u"?Re:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,i,a){var s=n(1);function d(){}var u={},p=["REJECTED"],g=["FULFILLED"],v=["PENDING"];i.exports=m;function m(E){if(typeof E!="function")throw new TypeError("resolver must be a function");this.state=v,this.queue=[],this.outcome=void 0,E!==d&&k(this,E)}m.prototype.catch=function(E){return this.then(null,E)},m.prototype.then=function(E,N){if(typeof E!="function"&&this.state===g||typeof N!="function"&&this.state===p)return this;var x=new this.constructor(d);if(this.state!==v){var L=this.state===g?E:N;I(x,L,this.outcome)}else this.queue.push(new b(x,E,N));return x};function b(E,N,x){this.promise=E,typeof N=="function"&&(this.onFulfilled=N,this.callFulfilled=this.otherCallFulfilled),typeof x=="function"&&(this.onRejected=x,this.callRejected=this.otherCallRejected)}b.prototype.callFulfilled=function(E){u.resolve(this.promise,E)},b.prototype.otherCallFulfilled=function(E){I(this.promise,this.onFulfilled,E)},b.prototype.callRejected=function(E){u.reject(this.promise,E)},b.prototype.otherCallRejected=function(E){I(this.promise,this.onRejected,E)};function I(E,N,x){s(function(){var L;try{L=N(x)}catch(z){return u.reject(E,z)}L===E?u.reject(E,new TypeError("Cannot resolve promise with itself")):u.resolve(E,L)})}u.resolve=function(E,N){var x=R($,N);if(x.status==="error")return u.reject(E,x.value);var L=x.value;if(L)k(E,L);else{E.state=g,E.outcome=N;for(var z=-1,H=E.queue.length;++z<H;)E.queue[z].callFulfilled(N)}return E},u.reject=function(E,N){E.state=p,E.outcome=N;for(var x=-1,L=E.queue.length;++x<L;)E.queue[x].callRejected(N);return E};function $(E){var N=E&&E.then;if(E&&(typeof E=="object"||typeof E=="function")&&typeof N=="function")return function(){N.apply(E,arguments)}}function k(E,N){var x=!1;function L(Q){x||(x=!0,u.reject(E,Q))}function z(Q){x||(x=!0,u.resolve(E,Q))}function H(){N(z,L)}var X=R(H);X.status==="error"&&L(X.value)}function R(E,N){var x={};try{x.value=E(N),x.status="success"}catch(L){x.status="error",x.value=L}return x}m.resolve=F;function F(E){return E instanceof this?E:u.resolve(new this(d),E)}m.reject=D;function D(E){var N=new this(d);return u.reject(N,E)}m.all=K;function K(E){var N=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=E.length,L=!1;if(!x)return this.resolve([]);for(var z=new Array(x),H=0,X=-1,Q=new this(d);++X<x;)re(E[X],X);return Q;function re(_e,Oe){N.resolve(_e).then(Ke,function(ve){L||(L=!0,u.reject(Q,ve))});function Ke(ve){z[Oe]=ve,++H===x&&!L&&(L=!0,u.resolve(Q,z))}}}m.race=Y;function Y(E){var N=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=E.length,L=!1;if(!x)return this.resolve([]);for(var z=-1,H=new this(d);++z<x;)X(E[z]);return H;function X(Q){N.resolve(Q).then(function(re){L||(L=!0,u.resolve(H,re))},function(re){L||(L=!0,u.reject(H,re))})}}},{1:1}],3:[function(n,i,a){(function(s){typeof s.Promise!="function"&&(s.Promise=n(2))}).call(this,typeof Re<"u"?Re:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,i,a){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r};function d(r,f){if(!(r instanceof f))throw new TypeError("Cannot call a class as a function")}function u(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var p=u();function g(){try{if(!p||!p.open)return!1;var r=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),f=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!r||f)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function v(r,f){r=r||[],f=f||{};try{return new Blob(r,f)}catch(l){if(l.name!=="TypeError")throw l;for(var o=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,c=new o,h=0;h<r.length;h+=1)c.append(r[h]);return c.getBlob(f.type)}}typeof Promise>"u"&&n(3);var m=Promise;function b(r,f){f&&r.then(function(o){f(null,o)},function(o){f(o)})}function I(r,f,o){typeof f=="function"&&r.then(f),typeof o=="function"&&r.catch(o)}function $(r){return typeof r!="string"&&(console.warn(r+" used as a key, but it is not a string."),r=String(r)),r}function k(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var R="local-forage-detect-blob-support",F=void 0,D={},K=Object.prototype.toString,Y="readonly",E="readwrite";function N(r){for(var f=r.length,o=new ArrayBuffer(f),c=new Uint8Array(o),h=0;h<f;h++)c[h]=r.charCodeAt(h);return o}function x(r){return new m(function(f){var o=r.transaction(R,E),c=v([""]);o.objectStore(R).put(c,"key"),o.onabort=function(h){h.preventDefault(),h.stopPropagation(),f(!1)},o.oncomplete=function(){var h=navigator.userAgent.match(/Chrome\/(\d+)/),l=navigator.userAgent.match(/Edge\//);f(l||!h||parseInt(h[1],10)>=43)}}).catch(function(){return!1})}function L(r){return typeof F=="boolean"?m.resolve(F):x(r).then(function(f){return F=f,F})}function z(r){var f=D[r.name],o={};o.promise=new m(function(c,h){o.resolve=c,o.reject=h}),f.deferredOperations.push(o),f.dbReady?f.dbReady=f.dbReady.then(function(){return o.promise}):f.dbReady=o.promise}function H(r){var f=D[r.name],o=f.deferredOperations.pop();if(o)return o.resolve(),o.promise}function X(r,f){var o=D[r.name],c=o.deferredOperations.pop();if(c)return c.reject(f),c.promise}function Q(r,f){return new m(function(o,c){if(D[r.name]=D[r.name]||vt(),r.db)if(f)z(r),r.db.close();else return o(r.db);var h=[r.name];f&&h.push(r.version);var l=p.open.apply(p,h);f&&(l.onupgradeneeded=function(y){var w=l.result;try{w.createObjectStore(r.storeName),y.oldVersion<=1&&w.createObjectStore(R)}catch(_){if(_.name==="ConstraintError")console.warn('The database "'+r.name+'" has been upgraded from version '+y.oldVersion+" to version "+y.newVersion+', but the storage "'+r.storeName+'" already exists.');else throw _}}),l.onerror=function(y){y.preventDefault(),c(l.error)},l.onsuccess=function(){var y=l.result;y.onversionchange=function(w){w.target.close()},o(y),H(r)}})}function re(r){return Q(r,!1)}function _e(r){return Q(r,!0)}function Oe(r,f){if(!r.db)return!0;var o=!r.db.objectStoreNames.contains(r.storeName),c=r.version<r.db.version,h=r.version>r.db.version;if(c&&(r.version!==f&&console.warn('The database "'+r.name+`" can't be downgraded from version `+r.db.version+" to version "+r.version+"."),r.version=r.db.version),h||o){if(o){var l=r.db.version+1;l>r.version&&(r.version=l)}return!0}return!1}function Ke(r){return new m(function(f,o){var c=new FileReader;c.onerror=o,c.onloadend=function(h){var l=btoa(h.target.result||"");f({__local_forage_encoded_blob:!0,data:l,type:r.type})},c.readAsBinaryString(r)})}function ve(r){var f=N(atob(r.data));return v([f],{type:r.type})}function ht(r){return r&&r.__local_forage_encoded_blob}function an(r){var f=this,o=f._initReady().then(function(){var c=D[f._dbInfo.name];if(c&&c.dbReady)return c.dbReady});return I(o,r,r),o}function fn(r){z(r);for(var f=D[r.name],o=f.forages,c=0;c<o.length;c++){var h=o[c];h._dbInfo.db&&(h._dbInfo.db.close(),h._dbInfo.db=null)}return r.db=null,re(r).then(function(l){return r.db=l,Oe(r)?_e(r):l}).then(function(l){r.db=f.db=l;for(var y=0;y<o.length;y++)o[y]._dbInfo.db=l}).catch(function(l){throw X(r,l),l})}function ie(r,f,o,c){c===void 0&&(c=1);try{var h=r.db.transaction(r.storeName,f);o(null,h)}catch(l){if(c>0&&(!r.db||l.name==="InvalidStateError"||l.name==="NotFoundError"))return m.resolve().then(function(){if(!r.db||l.name==="NotFoundError"&&!r.db.objectStoreNames.contains(r.storeName)&&r.version<=r.db.version)return r.db&&(r.version=r.db.version+1),_e(r)}).then(function(){return fn(r).then(function(){ie(r,f,o,c-1)})}).catch(o);o(l)}}function vt(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function un(r){var f=this,o={db:null};if(r)for(var c in r)o[c]=r[c];var h=D[o.name];h||(h=vt(),D[o.name]=h),h.forages.push(f),f._initReady||(f._initReady=f.ready,f.ready=an);var l=[];function y(){return m.resolve()}for(var w=0;w<h.forages.length;w++){var _=h.forages[w];_!==f&&l.push(_._initReady().catch(y))}var T=h.forages.slice(0);return m.all(l).then(function(){return o.db=h.db,re(o)}).then(function(S){return o.db=S,Oe(o,f._defaultConfig.version)?_e(o):S}).then(function(S){o.db=h.db=S,f._dbInfo=o;for(var A=0;A<T.length;A++){var O=T[A];O!==f&&(O._dbInfo.db=o.db,O._dbInfo.version=o.version)}})}function ln(r,f){var o=this;r=$(r);var c=new m(function(h,l){o.ready().then(function(){ie(o._dbInfo,Y,function(y,w){if(y)return l(y);try{var _=w.objectStore(o._dbInfo.storeName),T=_.get(r);T.onsuccess=function(){var S=T.result;S===void 0&&(S=null),ht(S)&&(S=ve(S)),h(S)},T.onerror=function(){l(T.error)}}catch(S){l(S)}})}).catch(l)});return b(c,f),c}function cn(r,f){var o=this,c=new m(function(h,l){o.ready().then(function(){ie(o._dbInfo,Y,function(y,w){if(y)return l(y);try{var _=w.objectStore(o._dbInfo.storeName),T=_.openCursor(),S=1;T.onsuccess=function(){var A=T.result;if(A){var O=A.value;ht(O)&&(O=ve(O));var C=r(O,A.key,S++);C!==void 0?h(C):A.continue()}else h()},T.onerror=function(){l(T.error)}}catch(A){l(A)}})}).catch(l)});return b(c,f),c}function dn(r,f,o){var c=this;r=$(r);var h=new m(function(l,y){var w;c.ready().then(function(){return w=c._dbInfo,K.call(f)==="[object Blob]"?L(w.db).then(function(_){return _?f:Ke(f)}):f}).then(function(_){ie(c._dbInfo,E,function(T,S){if(T)return y(T);try{var A=S.objectStore(c._dbInfo.storeName);_===null&&(_=void 0);var O=A.put(_,r);S.oncomplete=function(){_===void 0&&(_=null),l(_)},S.onabort=S.onerror=function(){var C=O.error?O.error:O.transaction.error;y(C)}}catch(C){y(C)}})}).catch(y)});return b(h,o),h}function hn(r,f){var o=this;r=$(r);var c=new m(function(h,l){o.ready().then(function(){ie(o._dbInfo,E,function(y,w){if(y)return l(y);try{var _=w.objectStore(o._dbInfo.storeName),T=_.delete(r);w.oncomplete=function(){h()},w.onerror=function(){l(T.error)},w.onabort=function(){var S=T.error?T.error:T.transaction.error;l(S)}}catch(S){l(S)}})}).catch(l)});return b(c,f),c}function vn(r){var f=this,o=new m(function(c,h){f.ready().then(function(){ie(f._dbInfo,E,function(l,y){if(l)return h(l);try{var w=y.objectStore(f._dbInfo.storeName),_=w.clear();y.oncomplete=function(){c()},y.onabort=y.onerror=function(){var T=_.error?_.error:_.transaction.error;h(T)}}catch(T){h(T)}})}).catch(h)});return b(o,r),o}function mn(r){var f=this,o=new m(function(c,h){f.ready().then(function(){ie(f._dbInfo,Y,function(l,y){if(l)return h(l);try{var w=y.objectStore(f._dbInfo.storeName),_=w.count();_.onsuccess=function(){c(_.result)},_.onerror=function(){h(_.error)}}catch(T){h(T)}})}).catch(h)});return b(o,r),o}function gn(r,f){var o=this,c=new m(function(h,l){if(r<0){h(null);return}o.ready().then(function(){ie(o._dbInfo,Y,function(y,w){if(y)return l(y);try{var _=w.objectStore(o._dbInfo.storeName),T=!1,S=_.openKeyCursor();S.onsuccess=function(){var A=S.result;if(!A){h(null);return}r===0||T?h(A.key):(T=!0,A.advance(r))},S.onerror=function(){l(S.error)}}catch(A){l(A)}})}).catch(l)});return b(c,f),c}function yn(r){var f=this,o=new m(function(c,h){f.ready().then(function(){ie(f._dbInfo,Y,function(l,y){if(l)return h(l);try{var w=y.objectStore(f._dbInfo.storeName),_=w.openKeyCursor(),T=[];_.onsuccess=function(){var S=_.result;if(!S){c(T);return}T.push(S.key),S.continue()},_.onerror=function(){h(_.error)}}catch(S){h(S)}})}).catch(h)});return b(o,r),o}function bn(r,f){f=k.apply(this,arguments);var o=this.config();r=typeof r!="function"&&r||{},r.name||(r.name=r.name||o.name,r.storeName=r.storeName||o.storeName);var c=this,h;if(!r.name)h=m.reject("Invalid arguments");else{var l=r.name===o.name&&c._dbInfo.db,y=l?m.resolve(c._dbInfo.db):re(r).then(function(w){var _=D[r.name],T=_.forages;_.db=w;for(var S=0;S<T.length;S++)T[S]._dbInfo.db=w;return w});r.storeName?h=y.then(function(w){if(w.objectStoreNames.contains(r.storeName)){var _=w.version+1;z(r);var T=D[r.name],S=T.forages;w.close();for(var A=0;A<S.length;A++){var O=S[A];O._dbInfo.db=null,O._dbInfo.version=_}var C=new m(function(P,j){var B=p.open(r.name,_);B.onerror=function(J){var Se=B.result;Se.close(),j(J)},B.onupgradeneeded=function(){var J=B.result;J.deleteObjectStore(r.storeName)},B.onsuccess=function(){var J=B.result;J.close(),P(J)}});return C.then(function(P){T.db=P;for(var j=0;j<S.length;j++){var B=S[j];B._dbInfo.db=P,H(B._dbInfo)}}).catch(function(P){throw(X(r,P)||m.resolve()).catch(function(){}),P})}}):h=y.then(function(w){z(r);var _=D[r.name],T=_.forages;w.close();for(var S=0;S<T.length;S++){var A=T[S];A._dbInfo.db=null}var O=new m(function(C,P){var j=p.deleteDatabase(r.name);j.onerror=function(){var B=j.result;B&&B.close(),P(j.error)},j.onblocked=function(){console.warn('dropInstance blocked for database "'+r.name+'" until all open connections are closed')},j.onsuccess=function(){var B=j.result;B&&B.close(),C(B)}});return O.then(function(C){_.db=C;for(var P=0;P<T.length;P++){var j=T[P];H(j._dbInfo)}}).catch(function(C){throw(X(r,C)||m.resolve()).catch(function(){}),C})})}return b(h,f),h}var wn={_driver:"asyncStorage",_initStorage:un,_support:g(),iterate:cn,getItem:ln,setItem:dn,removeItem:hn,clear:vn,length:mn,key:gn,keys:yn,dropInstance:bn};function pn(){return typeof openDatabase=="function"}var fe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_n="~~local_forage_type~",mt=/^~~local_forage_type~([^~]+)~/,xe="__lfsc__:",Ve=xe.length,He="arbf",Ge="blob",gt="si08",yt="ui08",bt="uic8",wt="si16",pt="si32",_t="ur16",Tt="ui32",St="fl32",Et="fl64",At=Ve+He.length,It=Object.prototype.toString;function $t(r){var f=r.length*.75,o=r.length,c,h=0,l,y,w,_;r[r.length-1]==="="&&(f--,r[r.length-2]==="="&&f--);var T=new ArrayBuffer(f),S=new Uint8Array(T);for(c=0;c<o;c+=4)l=fe.indexOf(r[c]),y=fe.indexOf(r[c+1]),w=fe.indexOf(r[c+2]),_=fe.indexOf(r[c+3]),S[h++]=l<<2|y>>4,S[h++]=(y&15)<<4|w>>2,S[h++]=(w&3)<<6|_&63;return T}function Xe(r){var f=new Uint8Array(r),o="",c;for(c=0;c<f.length;c+=3)o+=fe[f[c]>>2],o+=fe[(f[c]&3)<<4|f[c+1]>>4],o+=fe[(f[c+1]&15)<<2|f[c+2]>>6],o+=fe[f[c+2]&63];return f.length%3===2?o=o.substring(0,o.length-1)+"=":f.length%3===1&&(o=o.substring(0,o.length-2)+"=="),o}function Tn(r,f){var o="";if(r&&(o=It.call(r)),r&&(o==="[object ArrayBuffer]"||r.buffer&&It.call(r.buffer)==="[object ArrayBuffer]")){var c,h=xe;r instanceof ArrayBuffer?(c=r,h+=He):(c=r.buffer,o==="[object Int8Array]"?h+=gt:o==="[object Uint8Array]"?h+=yt:o==="[object Uint8ClampedArray]"?h+=bt:o==="[object Int16Array]"?h+=wt:o==="[object Uint16Array]"?h+=_t:o==="[object Int32Array]"?h+=pt:o==="[object Uint32Array]"?h+=Tt:o==="[object Float32Array]"?h+=St:o==="[object Float64Array]"?h+=Et:f(new Error("Failed to get type for BinaryArray"))),f(h+Xe(c))}else if(o==="[object Blob]"){var l=new FileReader;l.onload=function(){var y=_n+r.type+"~"+Xe(this.result);f(xe+Ge+y)},l.readAsArrayBuffer(r)}else try{f(JSON.stringify(r))}catch(y){console.error("Couldn't convert value into a JSON string: ",r),f(null,y)}}function Sn(r){if(r.substring(0,Ve)!==xe)return JSON.parse(r);var f=r.substring(At),o=r.substring(Ve,At),c;if(o===Ge&&mt.test(f)){var h=f.match(mt);c=h[1],f=f.substring(h[0].length)}var l=$t(f);switch(o){case He:return l;case Ge:return v([l],{type:c});case gt:return new Int8Array(l);case yt:return new Uint8Array(l);case bt:return new Uint8ClampedArray(l);case wt:return new Int16Array(l);case _t:return new Uint16Array(l);case pt:return new Int32Array(l);case Tt:return new Uint32Array(l);case St:return new Float32Array(l);case Et:return new Float64Array(l);default:throw new Error("Unkown type: "+o)}}var Qe={serialize:Tn,deserialize:Sn,stringToBuffer:$t,bufferToString:Xe};function Ot(r,f,o,c){r.executeSql("CREATE TABLE IF NOT EXISTS "+f.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],o,c)}function En(r){var f=this,o={db:null};if(r)for(var c in r)o[c]=typeof r[c]!="string"?r[c].toString():r[c];var h=new m(function(l,y){try{o.db=openDatabase(o.name,String(o.version),o.description,o.size)}catch(w){return y(w)}o.db.transaction(function(w){Ot(w,o,function(){f._dbInfo=o,l()},function(_,T){y(T)})},y)});return o.serializer=Qe,h}function ue(r,f,o,c,h,l){r.executeSql(o,c,h,function(y,w){w.code===w.SYNTAX_ERR?y.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[f.storeName],function(_,T){T.rows.length?l(_,w):Ot(_,f,function(){_.executeSql(o,c,h,l)},l)},l):l(y,w)},l)}function An(r,f){var o=this;r=$(r);var c=new m(function(h,l){o.ready().then(function(){var y=o._dbInfo;y.db.transaction(function(w){ue(w,y,"SELECT * FROM "+y.storeName+" WHERE key = ? LIMIT 1",[r],function(_,T){var S=T.rows.length?T.rows.item(0).value:null;S&&(S=y.serializer.deserialize(S)),h(S)},function(_,T){l(T)})})}).catch(l)});return b(c,f),c}function In(r,f){var o=this,c=new m(function(h,l){o.ready().then(function(){var y=o._dbInfo;y.db.transaction(function(w){ue(w,y,"SELECT * FROM "+y.storeName,[],function(_,T){for(var S=T.rows,A=S.length,O=0;O<A;O++){var C=S.item(O),P=C.value;if(P&&(P=y.serializer.deserialize(P)),P=r(P,C.key,O+1),P!==void 0){h(P);return}}h()},function(_,T){l(T)})})}).catch(l)});return b(c,f),c}function xt(r,f,o,c){var h=this;r=$(r);var l=new m(function(y,w){h.ready().then(function(){f===void 0&&(f=null);var _=f,T=h._dbInfo;T.serializer.serialize(f,function(S,A){A?w(A):T.db.transaction(function(O){ue(O,T,"INSERT OR REPLACE INTO "+T.storeName+" (key, value) VALUES (?, ?)",[r,S],function(){y(_)},function(C,P){w(P)})},function(O){if(O.code===O.QUOTA_ERR){if(c>0){y(xt.apply(h,[r,_,o,c-1]));return}w(O)}})})}).catch(w)});return b(l,o),l}function $n(r,f,o){return xt.apply(this,[r,f,o,1])}function On(r,f){var o=this;r=$(r);var c=new m(function(h,l){o.ready().then(function(){var y=o._dbInfo;y.db.transaction(function(w){ue(w,y,"DELETE FROM "+y.storeName+" WHERE key = ?",[r],function(){h()},function(_,T){l(T)})})}).catch(l)});return b(c,f),c}function xn(r){var f=this,o=new m(function(c,h){f.ready().then(function(){var l=f._dbInfo;l.db.transaction(function(y){ue(y,l,"DELETE FROM "+l.storeName,[],function(){c()},function(w,_){h(_)})})}).catch(h)});return b(o,r),o}function Dn(r){var f=this,o=new m(function(c,h){f.ready().then(function(){var l=f._dbInfo;l.db.transaction(function(y){ue(y,l,"SELECT COUNT(key) as c FROM "+l.storeName,[],function(w,_){var T=_.rows.item(0).c;c(T)},function(w,_){h(_)})})}).catch(h)});return b(o,r),o}function Nn(r,f){var o=this,c=new m(function(h,l){o.ready().then(function(){var y=o._dbInfo;y.db.transaction(function(w){ue(w,y,"SELECT key FROM "+y.storeName+" WHERE id = ? LIMIT 1",[r+1],function(_,T){var S=T.rows.length?T.rows.item(0).key:null;h(S)},function(_,T){l(T)})})}).catch(l)});return b(c,f),c}function Rn(r){var f=this,o=new m(function(c,h){f.ready().then(function(){var l=f._dbInfo;l.db.transaction(function(y){ue(y,l,"SELECT key FROM "+l.storeName,[],function(w,_){for(var T=[],S=0;S<_.rows.length;S++)T.push(_.rows.item(S).key);c(T)},function(w,_){h(_)})})}).catch(h)});return b(o,r),o}function Cn(r){return new m(function(f,o){r.transaction(function(c){c.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(h,l){for(var y=[],w=0;w<l.rows.length;w++)y.push(l.rows.item(w).name);f({db:r,storeNames:y})},function(h,l){o(l)})},function(c){o(c)})})}function Pn(r,f){f=k.apply(this,arguments);var o=this.config();r=typeof r!="function"&&r||{},r.name||(r.name=r.name||o.name,r.storeName=r.storeName||o.storeName);var c=this,h;return r.name?h=new m(function(l){var y;r.name===o.name?y=c._dbInfo.db:y=openDatabase(r.name,"","",0),r.storeName?l({db:y,storeNames:[r.storeName]}):l(Cn(y))}).then(function(l){return new m(function(y,w){l.db.transaction(function(_){function T(C){return new m(function(P,j){_.executeSql("DROP TABLE IF EXISTS "+C,[],function(){P()},function(B,J){j(J)})})}for(var S=[],A=0,O=l.storeNames.length;A<O;A++)S.push(T(l.storeNames[A]));m.all(S).then(function(){y()}).catch(function(C){w(C)})},function(_){w(_)})})}):h=m.reject("Invalid arguments"),b(h,f),h}var Ln={_driver:"webSQLStorage",_initStorage:En,_support:pn(),iterate:In,getItem:An,setItem:$n,removeItem:On,clear:xn,length:Dn,key:Nn,keys:Rn,dropInstance:Pn};function kn(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Dt(r,f){var o=r.name+"/";return r.storeName!==f.storeName&&(o+=r.storeName+"/"),o}function Bn(){var r="_localforage_support_test";try{return localStorage.setItem(r,!0),localStorage.removeItem(r),!1}catch{return!0}}function Mn(){return!Bn()||localStorage.length>0}function Fn(r){var f=this,o={};if(r)for(var c in r)o[c]=r[c];return o.keyPrefix=Dt(r,f._defaultConfig),Mn()?(f._dbInfo=o,o.serializer=Qe,m.resolve()):m.reject()}function jn(r){var f=this,o=f.ready().then(function(){for(var c=f._dbInfo.keyPrefix,h=localStorage.length-1;h>=0;h--){var l=localStorage.key(h);l.indexOf(c)===0&&localStorage.removeItem(l)}});return b(o,r),o}function Un(r,f){var o=this;r=$(r);var c=o.ready().then(function(){var h=o._dbInfo,l=localStorage.getItem(h.keyPrefix+r);return l&&(l=h.serializer.deserialize(l)),l});return b(c,f),c}function Yn(r,f){var o=this,c=o.ready().then(function(){for(var h=o._dbInfo,l=h.keyPrefix,y=l.length,w=localStorage.length,_=1,T=0;T<w;T++){var S=localStorage.key(T);if(S.indexOf(l)===0){var A=localStorage.getItem(S);if(A&&(A=h.serializer.deserialize(A)),A=r(A,S.substring(y),_++),A!==void 0)return A}}});return b(c,f),c}function zn(r,f){var o=this,c=o.ready().then(function(){var h=o._dbInfo,l;try{l=localStorage.key(r)}catch{l=null}return l&&(l=l.substring(h.keyPrefix.length)),l});return b(c,f),c}function Wn(r){var f=this,o=f.ready().then(function(){for(var c=f._dbInfo,h=localStorage.length,l=[],y=0;y<h;y++){var w=localStorage.key(y);w.indexOf(c.keyPrefix)===0&&l.push(w.substring(c.keyPrefix.length))}return l});return b(o,r),o}function Kn(r){var f=this,o=f.keys().then(function(c){return c.length});return b(o,r),o}function Vn(r,f){var o=this;r=$(r);var c=o.ready().then(function(){var h=o._dbInfo;localStorage.removeItem(h.keyPrefix+r)});return b(c,f),c}function Hn(r,f,o){var c=this;r=$(r);var h=c.ready().then(function(){f===void 0&&(f=null);var l=f;return new m(function(y,w){var _=c._dbInfo;_.serializer.serialize(f,function(T,S){if(S)w(S);else try{localStorage.setItem(_.keyPrefix+r,T),y(l)}catch(A){(A.name==="QuotaExceededError"||A.name==="NS_ERROR_DOM_QUOTA_REACHED")&&w(A),w(A)}})})});return b(h,o),h}function Gn(r,f){if(f=k.apply(this,arguments),r=typeof r!="function"&&r||{},!r.name){var o=this.config();r.name=r.name||o.name,r.storeName=r.storeName||o.storeName}var c=this,h;return r.name?h=new m(function(l){r.storeName?l(Dt(r,c._defaultConfig)):l(r.name+"/")}).then(function(l){for(var y=localStorage.length-1;y>=0;y--){var w=localStorage.key(y);w.indexOf(l)===0&&localStorage.removeItem(w)}}):h=m.reject("Invalid arguments"),b(h,f),h}var Xn={_driver:"localStorageWrapper",_initStorage:Fn,_support:kn(),iterate:Yn,getItem:Un,setItem:Hn,removeItem:Vn,clear:jn,length:Kn,key:zn,keys:Wn,dropInstance:Gn},Qn=function(f,o){return f===o||typeof f=="number"&&typeof o=="number"&&isNaN(f)&&isNaN(o)},Jn=function(f,o){for(var c=f.length,h=0;h<c;){if(Qn(f[h],o))return!0;h++}return!1},Nt=Array.isArray||function(r){return Object.prototype.toString.call(r)==="[object Array]"},Te={},Rt={},me={INDEXEDDB:wn,WEBSQL:Ln,LOCALSTORAGE:Xn},qn=[me.INDEXEDDB._driver,me.WEBSQL._driver,me.LOCALSTORAGE._driver],De=["dropInstance"],Je=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(De),Zn={description:"",driver:qn.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function er(r,f){r[f]=function(){var o=arguments;return r.ready().then(function(){return r[f].apply(r,o)})}}function qe(){for(var r=1;r<arguments.length;r++){var f=arguments[r];if(f)for(var o in f)f.hasOwnProperty(o)&&(Nt(f[o])?arguments[0][o]=f[o].slice():arguments[0][o]=f[o])}return arguments[0]}var tr=function(){function r(f){d(this,r);for(var o in me)if(me.hasOwnProperty(o)){var c=me[o],h=c._driver;this[o]=h,Te[h]||this.defineDriver(c)}this._defaultConfig=qe({},Zn),this._config=qe({},this._defaultConfig,f),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return r.prototype.config=function(o){if((typeof o>"u"?"undefined":s(o))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var c in o){if(c==="storeName"&&(o[c]=o[c].replace(/\W/g,"_")),c==="version"&&typeof o[c]!="number")return new Error("Database version must be a number.");this._config[c]=o[c]}return"driver"in o&&o.driver?this.setDriver(this._config.driver):!0}else return typeof o=="string"?this._config[o]:this._config},r.prototype.defineDriver=function(o,c,h){var l=new m(function(y,w){try{var _=o._driver,T=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!o._driver){w(T);return}for(var S=Je.concat("_initStorage"),A=0,O=S.length;A<O;A++){var C=S[A],P=!Jn(De,C);if((P||o[C])&&typeof o[C]!="function"){w(T);return}}var j=function(){for(var Se=function(ir){return function(){var or=new Error("Method "+ir+" is not implemented by the current driver"),Ct=m.reject(or);return b(Ct,arguments[arguments.length-1]),Ct}},Ze=0,rr=De.length;Ze<rr;Ze++){var et=De[Ze];o[et]||(o[et]=Se(et))}};j();var B=function(Se){Te[_]&&console.info("Redefining LocalForage driver: "+_),Te[_]=o,Rt[_]=Se,y()};"_support"in o?o._support&&typeof o._support=="function"?o._support().then(B,w):B(!!o._support):B(!0)}catch(J){w(J)}});return I(l,c,h),l},r.prototype.driver=function(){return this._driver||null},r.prototype.getDriver=function(o,c,h){var l=Te[o]?m.resolve(Te[o]):m.reject(new Error("Driver not found."));return I(l,c,h),l},r.prototype.getSerializer=function(o){var c=m.resolve(Qe);return I(c,o),c},r.prototype.ready=function(o){var c=this,h=c._driverSet.then(function(){return c._ready===null&&(c._ready=c._initDriver()),c._ready});return I(h,o,o),h},r.prototype.setDriver=function(o,c,h){var l=this;Nt(o)||(o=[o]);var y=this._getSupportedDrivers(o);function w(){l._config.driver=l.driver()}function _(A){return l._extend(A),w(),l._ready=l._initStorage(l._config),l._ready}function T(A){return function(){var O=0;function C(){for(;O<A.length;){var P=A[O];return O++,l._dbInfo=null,l._ready=null,l.getDriver(P).then(_).catch(C)}w();var j=new Error("No available storage method found.");return l._driverSet=m.reject(j),l._driverSet}return C()}}var S=this._driverSet!==null?this._driverSet.catch(function(){return m.resolve()}):m.resolve();return this._driverSet=S.then(function(){var A=y[0];return l._dbInfo=null,l._ready=null,l.getDriver(A).then(function(O){l._driver=O._driver,w(),l._wrapLibraryMethodsWithReady(),l._initDriver=T(y)})}).catch(function(){w();var A=new Error("No available storage method found.");return l._driverSet=m.reject(A),l._driverSet}),I(this._driverSet,c,h),this._driverSet},r.prototype.supports=function(o){return!!Rt[o]},r.prototype._extend=function(o){qe(this,o)},r.prototype._getSupportedDrivers=function(o){for(var c=[],h=0,l=o.length;h<l;h++){var y=o[h];this.supports(y)&&c.push(y)}return c},r.prototype._wrapLibraryMethodsWithReady=function(){for(var o=0,c=Je.length;o<c;o++)er(this,Je[o])},r.prototype.createInstance=function(o){return new r(o)},r}(),nr=new tr;i.exports=nr},{3:3}]},{},[4])(4)})})(on);var Yt=on.exports;const ei=Yt.createInstance({name:"kagetask",driver:Yt.INDEXEDDB});var ee;class ti{constructor(){Lt(this,ee,void 0);kt(this,ee,ei)}getItem(t){return de(this,ee).getItem(t)}clear(){de(this,ee).clear()}async setItem(t,n){await de(this,ee).setItem(t,n)}async removeItem(t){await de(this,ee).removeItem(t)}async key(t){return(await de(this,ee).keys())[t]}get length(){return de(this,ee).keys().then(t=>t.length)}}ee=new WeakMap;const ni=new ti;function sn(e){var t,n,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=sn(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}function Le(){for(var e,t,n=0,i="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=sn(e))&&(i&&(i+=" "),i+=t);return i}var ri=ne("<button>"),ii=ne('<button class="w-20 bg-blue-100 mr-1 border"type=button>Start'),oi=ne('<button class="w-20 bg-purple-100 mr-1 border"type=button>End'),si=ne('<button class="w-20 bg-red-100 mr-1 border"type=button>Clear Time'),ai=ne('<button class="w-20 bg-green-100 mr-1 border"type=button>Today'),fi=ne('<button type=button class="mr-1 bg-orange-100 w-20 border">Clear Date'),ui=ne('<li class="mb-1 flex"><button type=button class="w-6 h-6 border mr-1 bg-slate-100">↑</button><button type=button class="w-6 h-6 border mr-2 bg-slate-100">↓</button><input type=date class=mr-5><input type=time class="border-b-slate-500 border-b mr-4"><input type=time class="border-b-slate-500 border-b mr-2"><input type=text><button type=button>Duplicate');const li=e=>{const[t,n]=pr(e,["children","class"]);return(()=>{var i=ri();return kr(i,wr({get class(){return Le("border",t.class)}},n),!1),G(i,()=>t.children),i})()},zt=e=>(Ht(()=>{console.log("Task:",e.task)}),(()=>{var t=ui(),n=t.firstChild,i=n.nextSibling,a=i.nextSibling,s=a.nextSibling,d=s.nextSibling,u=d.nextSibling,p=u.nextSibling;return G(t,V(li,{get class(){return Le("border-red-600 w-6 h-6 mr-1",e.newItem?"bg-gray-100":"bg-red-100")},type:"button",get disabled(){return e.newItem},onClick:()=>{var g;(g=e.deleteTask)==null||g.call(e)},get children(){return[V(he,{get when(){return!e.newItem},children:"❌"}),V(he,{get when(){return e.newItem},children:" "})]}}),n),n.$$click=()=>{var g;return(g=e.up)==null?void 0:g.call(e)},i.$$click=()=>{var g;return(g=e.down)==null?void 0:g.call(e)},a.addEventListener("change",({target:g,currentTarget:{value:v}})=>{e.setTask("date",v),e.newItem&&(g.value="")}),s.addEventListener("change",({target:g,currentTarget:{value:v}})=>{e.setTask("startTime",v),e.newItem&&(g.value="")}),d.addEventListener("change",({target:g,currentTarget:{value:v}})=>{e.setTask("endTime",v),e.newItem&&(g.value="")}),u.addEventListener("change",({target:g,currentTarget:{value:v}})=>{e.setTask("title",v),e.newItem&&(g.value="")}),Zt(p,"click",e.duplicate,!0),G(t,V(he,{get when(){return!e.task.endTime&&!e.task.startTime},get children(){var g=ii();return g.$$click=()=>{const v=new Date;e.setTask("startTime",`${`${v.getHours()}`.padStart(2,"0")}:${`${v.getMinutes()}`.padStart(2,"0")}`)},g}}),null),G(t,V(he,{get when(){return e.task.startTime&&!e.task.endTime},get children(){var g=oi();return g.$$click=()=>{const v=new Date;e.setTask("endTime",`${`${v.getHours()}`.padStart(2,"0")}:${`${v.getMinutes()}`.padStart(2,"0")}`)},g}}),null),G(t,V(he,{get when(){return e.task.endTime},get children(){var g=si();return g.$$click=()=>{e.setTask("endTime",""),e.setTask("startTime","")},g}}),null),G(t,V(he,{get when(){return!e.task.date},get children(){var g=ai();return g.$$click=()=>{const v=new Date;e.setTask("date",`${v.getFullYear()}-${`${v.getMonth()+1}`.padStart(2,"0")}-${`${v.getDate()}`.padStart(2,"0")}`)},g}}),null),G(t,V(he,{get when(){return e.task.date},get children(){var g=fi();return g.$$click=()=>e.setTask("date",""),g}}),null),te(g=>{var v=e.up===void 0,m=e.down===void 0,b=Le("px-1 mr-1",e.task.startTime!==""&&e.task.startTime!==void 0&&(e.task.endTime===""||e.task.endTime===void 0)&&"bg-blue-100"),I=Le("border px-1 mr-1",e.newItem?"bg-slate-100 text-slate-300":"bg-green-200"),$=!e.newItem;return v!==g.e&&(n.disabled=g.e=v),m!==g.t&&(i.disabled=g.t=m),b!==g.a&&at(u,g.a=b),I!==g.o&&at(p,g.o=I),$!==g.i&&(p.disabled=g.i=$),g},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),te(()=>a.value=e.task.date??void 0),te(()=>s.value=e.task.startTime??void 0),te(()=>d.value=e.task.endTime??void 0),te(()=>u.value=e.task.title),t})());dt(["click"]);var ci=ne("<ul class=mb-4>");const di=e=>(()=>{var t=ci();return G(t,V(Er,{get each(){return e.tasks},children:(n,i)=>V(zt,{task:n,setTask:(a,s)=>{e.setTasks(d=>{const u=[...d];return u[i()]={...d[i()],[a]:s},u})},deleteTask:()=>{e.setTasks(a=>{const s=[...a];return s.splice(i(),1),s})},get up(){return i()===0?void 0:()=>{e.setTasks(a=>{const s=[...a],d=s[i()];return s[i()]=s[i()-1],s[i()-1]=d,s})}},get down(){return i()===e.tasks.length-1?()=>{e.setTasks(a=>{const s=[...a],d=s[i()];return s[i()]={title:""},s[i()+1]=d,s})}:()=>{e.setTasks(a=>{const s=[...a],d=s[i()];return s[i()]=s[i()+1],s[i()+1]=d,s})}},duplicate:()=>{e.setTasks(a=>{const s=[...a];return s.splice(i(),0,{date:a[i()].date,title:a[i()].title}),s})}})}),null),G(t,V(zt,{task:{title:""},setTask:(n,i)=>e.setTasks(a=>[...a,{title:"",[n]:i}]),up:()=>{e.setTasks(n=>{const i=[...n],a=i[e.tasks.length-1];return i[e.tasks.length-1]={title:""},i.push(a),i})},newItem:!0}),null),t})();var hi=ne('<textarea class="bg-slate-50 border"readonly rows=6 cols=111>');const vi=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],mi=e=>{const t=()=>e.tasks.map(n=>{const i=n.date?new Date(n.date):void 0;return`  ${i?`${i.getFullYear()}/${`${i.getMonth()}`.padStart(2,"0")}/${`${i.getDate()}`.padStart(2,"0")} ${vi[i.getDay()]}`:"              "} ${n.startTime??"     "} ${n.endTime??"     "} ${n.title}`}).join(`
`);return(()=>{var n=hi();return G(n,t),n})()},gi=e=>{const t=/ hold:(\d)( |$)/.exec(e.title);if(t){const n=new Date;return n.setDate(n.getDate()+parseInt(t[1])),{...e,date:`${n.getFullYear()}-${`${n.getMonth()+1}`.padStart(2,"0")}-${`${n.getDate()}`.padStart(2,"0")}`}}return e},yi=(e,t)=>{if((e.date===""||e.date===void 0)&&t.date!==""&&t.date!==void 0)return-1;if((t.date===""||t.date===void 0)&&e.date!==""&&e.date!==void 0)return 1;if(e.date!==""&&e.date!==void 0&&t.date!==""&&t.date!==void 0){const n=e.date?new Date(e.date):void 0,i=t.date?new Date(t.date):void 0,a=((n==null?void 0:n.getTime())??0)-((i==null?void 0:i.getTime())??0);if(a!==0)return a}if((e.startTime===""||e.startTime===void 0)&&t.startTime!==""&&t.startTime!==void 0)return 1;if(e.startTime!==""&&e.startTime!==void 0&&(t.startTime===""||t.startTime===void 0))return-1;if(e.startTime!==""&&e.startTime!==void 0&&t.startTime!==""&&t.startTime!==void 0){const n=(e.startTime??"").localeCompare(t.startTime??"");if(n!==0)return n}if((e.endTime===""||e.endTime===void 0)&&t.endTime!==""&&t.endTime!==void 0)return 1;if(e.endTime!==""&&e.endTime!==void 0&&(t.endTime===""||t.endTime===void 0))return-1;if(e.endTime!==""&&e.endTime!==void 0&&t.endTime!==""&&t.endTime!==void 0){const n=(e.endTime??"").localeCompare(t.endTime??"");if(n!==0)return n}return console.log("a:",e.title,"b:",t.title,e.title.localeCompare(t.title)),e.title.localeCompare(t.title)};var bi=ne('<div class=p-2><button class="border px-2 bg-sky-600 text-white mb-4 mt-2">Sort');function wi(){const[e,t]=Zr(Kr([{title:"My Task"}]),{storage:ni});return Ht(()=>{console.log("Tasks:",e)}),(()=>{var n=bi(),i=n.firstChild;return i.$$click=()=>{t(a=>{const s=[...a];console.log(s);const d=s.map(gi).sort(yi);return console.log(d),d})},G(n,V(di,{tasks:e,setTasks:t}),null),G(n,V(mi,{tasks:e}),null),n})()}dt(["click"]);const pi=document.getElementById("root");Cr(()=>V(wi,{}),pi);
