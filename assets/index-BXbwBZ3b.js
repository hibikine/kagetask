var $t=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)};var ce=(e,t,r)=>($t(e,t,"read from private field"),r?r.call(e):t.get(e)),Dt=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},xt=(e,t,r,o)=>($t(e,t,"write to private field"),o?o.call(e,r):t.set(e,r),r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))o(f);new MutationObserver(f=>{for(const s of f)if(s.type==="childList")for(const v of s.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&o(v)}).observe(document,{childList:!0,subtree:!0});function r(f){const s={};return f.integrity&&(s.integrity=f.integrity),f.referrerPolicy&&(s.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?s.credentials="include":f.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(f){if(f.ep)return;f.ep=!0;const s=r(f);fetch(f.href,s)}})();const Xn={context:void 0,registry:void 0},Jn=(e,t)=>e===t,de=Symbol("solid-proxy"),Ze=Symbol("solid-track"),Pe={equals:Jn};let Lt=Yt;const le=1,Le=2,Bt={owned:null,cleanups:null,context:null,owner:null};var Y=null;let qe=null,qn=null,F=null,z=null,ie=null,Ue=0;function Ce(e,t){const r=F,o=Y,f=e.length===0,s=t===void 0?o:t,v=f?Bt:{owned:null,cleanups:null,context:s?s.context:null,owner:s},d=f?e:()=>e(()=>fe(()=>Ye(v)));Y=v,F=null;try{return we(d,!0)}finally{F=r,Y=o}}function kt(e,t){t=t?Object.assign({},Pe,t):Pe;const r={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},o=f=>(typeof f=="function"&&(f=f(r.value)),Ut(r,f));return[Mt.bind(r),o]}function se(e,t,r){const o=ot(e,t,!1,le);$e(o)}function Ft(e,t,r){Lt=rr;const o=ot(e,t,!1,le);o.user=!0,ie?ie.push(o):$e(o)}function et(e,t,r){r=r?Object.assign({},Pe,r):Pe;const o=ot(e,t,!0,0);return o.observers=null,o.observerSlots=null,o.comparator=r.equals||void 0,$e(o),Mt.bind(o)}function Zn(e){return we(e,!1)}function fe(e){if(F===null)return e();const t=F;F=null;try{return e()}finally{F=t}}function er(e){return Y===null||(Y.cleanups===null?Y.cleanups=[e]:Y.cleanups.push(e)),e}function tt(){return F}function Mt(){if(this.sources&&this.state)if(this.state===le)$e(this);else{const e=z;z=null,we(()=>ke(this),!1),z=e}if(F){const e=this.observers?this.observers.length:0;F.sources?(F.sources.push(this),F.sourceSlots.push(e)):(F.sources=[this],F.sourceSlots=[e]),this.observers?(this.observers.push(F),this.observerSlots.push(F.sources.length-1)):(this.observers=[F],this.observerSlots=[F.sources.length-1])}return this.value}function Ut(e,t,r){let o=e.value;return(!e.comparator||!e.comparator(o,t))&&(e.value=t,e.observers&&e.observers.length&&we(()=>{for(let f=0;f<e.observers.length;f+=1){const s=e.observers[f],v=qe&&qe.running;v&&qe.disposed.has(s),(v?!s.tState:!s.state)&&(s.pure?z.push(s):ie.push(s),s.observers&&jt(s)),v||(s.state=le)}if(z.length>1e6)throw z=[],new Error},!1)),t}function $e(e){if(!e.fn)return;Ye(e);const t=Ue;tr(e,e.value,t)}function tr(e,t,r){let o;const f=Y,s=F;F=Y=e;try{o=e.fn(t)}catch(v){return e.pure&&(e.state=le,e.owned&&e.owned.forEach(Ye),e.owned=null),e.updatedAt=r+1,Wt(v)}finally{F=s,Y=f}(!e.updatedAt||e.updatedAt<=r)&&(e.updatedAt!=null&&"observers"in e?Ut(e,o):e.value=o,e.updatedAt=r)}function ot(e,t,r,o=le,f){const s={fn:e,state:o,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:Y,context:Y?Y.context:null,pure:r};return Y===null||Y!==Bt&&(Y.owned?Y.owned.push(s):Y.owned=[s]),s}function Be(e){if(e.state===0)return;if(e.state===Le)return ke(e);if(e.suspense&&fe(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<Ue);)e.state&&t.push(e);for(let r=t.length-1;r>=0;r--)if(e=t[r],e.state===le)$e(e);else if(e.state===Le){const o=z;z=null,we(()=>ke(e,t[0]),!1),z=o}}function we(e,t){if(z)return e();let r=!1;t||(z=[]),ie?r=!0:ie=[],Ue++;try{const o=e();return nr(r),o}catch(o){r||(ie=null),z=null,Wt(o)}}function nr(e){if(z&&(Yt(z),z=null),e)return;const t=ie;ie=null,t.length&&we(()=>Lt(t),!1)}function Yt(e){for(let t=0;t<e.length;t++)Be(e[t])}function rr(e){let t,r=0;for(t=0;t<e.length;t++){const o=e[t];o.user?e[r++]=o:Be(o)}for(t=0;t<r;t++)Be(e[t])}function ke(e,t){e.state=0;for(let r=0;r<e.sources.length;r+=1){const o=e.sources[r];if(o.sources){const f=o.state;f===le?o!==t&&(!o.updatedAt||o.updatedAt<Ue)&&Be(o):f===Le&&ke(o,t)}}}function jt(e){for(let t=0;t<e.observers.length;t+=1){const r=e.observers[t];r.state||(r.state=Le,r.pure?z.push(r):ie.push(r),r.observers&&jt(r))}}function Ye(e){let t;if(e.sources)for(;e.sources.length;){const r=e.sources.pop(),o=e.sourceSlots.pop(),f=r.observers;if(f&&f.length){const s=f.pop(),v=r.observerSlots.pop();o<f.length&&(s.sourceSlots[v]=o,f[o]=s,r.observerSlots[o]=v)}}if(e.owned){for(t=e.owned.length-1;t>=0;t--)Ye(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function ir(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function Wt(e,t=Y){throw ir(e)}const or=Symbol("fallback");function Rt(e){for(let t=0;t<e.length;t++)e[t]()}function ar(e,t,r={}){let o=[],f=[],s=[],v=0,d=t.length>1?[]:null;return er(()=>Rt(s)),()=>{let E=e()||[],y,h;return E[Ze],fe(()=>{let b=E.length,I,$,B,O,M,R,K,j,T;if(b===0)v!==0&&(Rt(s),s=[],o=[],f=[],v=0,d&&(d=[])),r.fallback&&(o=[or],f[0]=Ce(N=>(s[0]=N,r.fallback())),v=1);else if(v===0){for(f=new Array(b),h=0;h<b;h++)o[h]=E[h],f[h]=Ce(m);v=b}else{for(B=new Array(b),O=new Array(b),d&&(M=new Array(b)),R=0,K=Math.min(v,b);R<K&&o[R]===E[R];R++);for(K=v-1,j=b-1;K>=R&&j>=R&&o[K]===E[j];K--,j--)B[j]=f[K],O[j]=s[K],d&&(M[j]=d[K]);for(I=new Map,$=new Array(j+1),h=j;h>=R;h--)T=E[h],y=I.get(T),$[h]=y===void 0?-1:y,I.set(T,h);for(y=R;y<=K;y++)T=o[y],h=I.get(T),h!==void 0&&h!==-1?(B[h]=f[y],O[h]=s[y],d&&(M[h]=d[y]),h=$[h],I.set(T,h)):s[y]();for(h=R;h<b;h++)h in B?(f[h]=B[h],s[h]=O[h],d&&(d[h]=M[h],d[h](h))):f[h]=Ce(m);f=f.slice(0,v=b),o=E.slice(0)}return f});function m(b){if(s[h]=b,d){const[I,$]=kt(h);return d[h]=$,t(E[h],I)}return t(E[h])}}}let sr=!1;function J(e,t){return fe(()=>e(t||{}))}let fr=0;function ur(){const e=Xn.context;return e?`${e.id}${e.count++}`:`cl-${fr++}`}const lr=e=>`Stale read from <${e}>.`;function cr(e){const t="fallback"in e&&{fallback:()=>e.fallback};return et(ar(()=>e.each,e.children,t||void 0))}function me(e){const t=e.keyed,r=et(()=>e.when,void 0,{equals:(o,f)=>t?o===f:!o==!f});return et(()=>{const o=r();if(o){const f=e.children;return typeof f=="function"&&f.length>0?fe(()=>f(t?o:()=>{if(!fe(r))throw lr("Show");return e.when})):f}return e.fallback},void 0,void 0)}function dr(e,t,r){let o=r.length,f=t.length,s=o,v=0,d=0,E=t[f-1].nextSibling,y=null;for(;v<f||d<s;){if(t[v]===r[d]){v++,d++;continue}for(;t[f-1]===r[s-1];)f--,s--;if(f===v){const h=s<o?d?r[d-1].nextSibling:r[s-d]:E;for(;d<s;)e.insertBefore(r[d++],h)}else if(s===d)for(;v<f;)(!y||!y.has(t[v]))&&t[v].remove(),v++;else if(t[v]===r[s-1]&&r[d]===t[f-1]){const h=t[--f].nextSibling;e.insertBefore(r[d++],t[v++].nextSibling),e.insertBefore(r[--s],h),t[f]=r[s]}else{if(!y){y=new Map;let m=d;for(;m<s;)y.set(r[m],m++)}const h=y.get(t[v]);if(h!=null)if(d<h&&h<s){let m=v,b=1,I;for(;++m<f&&m<s&&!((I=y.get(t[m]))==null||I!==h+b);)b++;if(b>h-d){const $=t[v];for(;d<h;)e.insertBefore(r[d++],$)}else e.replaceChild(r[d++],t[v++])}else v++;else t[v++].remove()}}}const Nt="_$DX_DELEGATE";function hr(e,t,r,o={}){let f;return Ce(s=>{f=s,t===document?e():Z(t,e(),t.firstChild?null:void 0,r)},o.owner),()=>{f(),t.textContent=""}}function ee(e,t,r){let o;const f=()=>{const v=document.createElement("template");return v.innerHTML=e,v.content.firstChild},s=()=>(o||(o=f())).cloneNode(!0);return s.cloneNode=s,s}function zt(e,t=window.document){const r=t[Nt]||(t[Nt]=new Set);for(let o=0,f=e.length;o<f;o++){const s=e[o];r.has(s)||(r.add(s),t.addEventListener(s,mr))}}function vr(e,t,r,o){Array.isArray(r)?(e[`$$${t}`]=r[0],e[`$$${t}Data`]=r[1]):e[`$$${t}`]=r}function Z(e,t,r,o){if(r!==void 0&&!o&&(o=[]),typeof t!="function")return Fe(e,t,o,r);se(f=>Fe(e,t(),f,r),o)}function mr(e){const t=`$$${e.type}`;let r=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==r&&Object.defineProperty(e,"target",{configurable:!0,value:r}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return r||document}});r;){const o=r[t];if(o&&!r.disabled){const f=r[`${t}Data`];if(f!==void 0?o.call(r,f,e):o.call(r,e),e.cancelBubble)return}r=r._$host||r.parentNode||r.host}}function Fe(e,t,r,o,f){for(;typeof r=="function";)r=r();if(t===r)return r;const s=typeof t,v=o!==void 0;if(e=v&&r[0]&&r[0].parentNode||e,s==="string"||s==="number")if(s==="number"&&(t=t.toString()),v){let d=r[0];d&&d.nodeType===3?d.data!==t&&(d.data=t):d=document.createTextNode(t),r=ge(e,r,o,d)}else r!==""&&typeof r=="string"?r=e.firstChild.data=t:r=e.textContent=t;else if(t==null||s==="boolean")r=ge(e,r,o);else{if(s==="function")return se(()=>{let d=t();for(;typeof d=="function";)d=d();r=Fe(e,d,r,o)}),()=>r;if(Array.isArray(t)){const d=[],E=r&&Array.isArray(r);if(nt(d,t,r,f))return se(()=>r=Fe(e,d,r,o,!0)),()=>r;if(d.length===0){if(r=ge(e,r,o),v)return r}else E?r.length===0?Ot(e,d,o):dr(e,r,d):(r&&ge(e),Ot(e,d));r=d}else if(t.nodeType){if(Array.isArray(r)){if(v)return r=ge(e,r,o,t);ge(e,r,null,t)}else r==null||r===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);r=t}}return r}function nt(e,t,r,o){let f=!1;for(let s=0,v=t.length;s<v;s++){let d=t[s],E=r&&r[e.length],y;if(!(d==null||d===!0||d===!1))if((y=typeof d)=="object"&&d.nodeType)e.push(d);else if(Array.isArray(d))f=nt(e,d,E)||f;else if(y==="function")if(o){for(;typeof d=="function";)d=d();f=nt(e,Array.isArray(d)?d:[d],Array.isArray(E)?E:[E])||f}else e.push(d),f=!0;else{const h=String(d);E&&E.nodeType===3&&E.data===h?e.push(E):e.push(document.createTextNode(h))}}return f}function Ot(e,t,r=null){for(let o=0,f=t.length;o<f;o++)e.insertBefore(t[o],r)}function ge(e,t,r,o){if(r===void 0)return e.textContent="";const f=o||document.createTextNode("");if(t.length){let s=!1;for(let v=t.length-1;v>=0;v--){const d=t[v];if(f!==d){const E=d.parentNode===e;!s&&!v?E?e.replaceChild(f,d):e.insertBefore(f,r):E&&d.remove()}else s=!0}}else e.insertBefore(f,r);return[f]}const rt=Symbol("store-raw"),pe=Symbol("store-node"),re=Symbol("store-has"),Kt=Symbol("store-self");function Vt(e){let t=e[de];if(!t&&(Object.defineProperty(e,de,{value:t=new Proxy(e,pr)}),!Array.isArray(e))){const r=Object.keys(e),o=Object.getOwnPropertyDescriptors(e);for(let f=0,s=r.length;f<s;f++){const v=r[f];o[v].get&&Object.defineProperty(e,v,{enumerable:o[v].enumerable,get:o[v].get.bind(t)})}}return t}function ue(e){let t;return e!=null&&typeof e=="object"&&(e[de]||!(t=Object.getPrototypeOf(e))||t===Object.prototype||Array.isArray(e))}function be(e,t=new Set){let r,o,f,s;if(r=e!=null&&e[rt])return r;if(!ue(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let v=0,d=e.length;v<d;v++)f=e[v],(o=be(f,t))!==f&&(e[v]=o)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const v=Object.keys(e),d=Object.getOwnPropertyDescriptors(e);for(let E=0,y=v.length;E<y;E++)s=v[E],!d[s].get&&(f=e[s],(o=be(f,t))!==f&&(e[s]=o))}return e}function Me(e,t){let r=e[t];return r||Object.defineProperty(e,t,{value:r=Object.create(null)}),r}function Ie(e,t,r){if(e[t])return e[t];const[o,f]=kt(r,{equals:!1,internal:!0});return o.$=f,e[t]=o}function gr(e,t){const r=Reflect.getOwnPropertyDescriptor(e,t);return!r||r.get||!r.configurable||t===de||t===pe||(delete r.value,delete r.writable,r.get=()=>e[de][t]),r}function Ht(e){tt()&&Ie(Me(e,pe),Kt)()}function yr(e){return Ht(e),Reflect.ownKeys(e)}const pr={get(e,t,r){if(t===rt)return e;if(t===de)return r;if(t===Ze)return Ht(e),r;const o=Me(e,pe),f=o[t];let s=f?f():e[t];if(t===pe||t===re||t==="__proto__")return s;if(!f){const v=Object.getOwnPropertyDescriptor(e,t);tt()&&(typeof s!="function"||e.hasOwnProperty(t))&&!(v&&v.get)&&(s=Ie(o,t,s)())}return ue(s)?Vt(s):s},has(e,t){return t===rt||t===de||t===Ze||t===pe||t===re||t==="__proto__"?!0:(tt()&&Ie(Me(e,re),t)(),t in e)},set(){return!0},deleteProperty(){return!0},ownKeys:yr,getOwnPropertyDescriptor:gr};function X(e,t,r,o=!1){if(!o&&e[t]===r)return;const f=e[t],s=e.length;r===void 0?(delete e[t],e[re]&&e[re][t]&&f!==void 0&&e[re][t].$()):(e[t]=r,e[re]&&e[re][t]&&f===void 0&&e[re][t].$());let v=Me(e,pe),d;if((d=Ie(v,t,f))&&d.$(()=>r),Array.isArray(e)&&e.length!==s){for(let E=e.length;E<s;E++)(d=v[E])&&d.$();(d=Ie(v,"length",s))&&d.$(e.length)}(d=v[Kt])&&d.$()}function Gt(e,t){const r=Object.keys(t);for(let o=0;o<r.length;o+=1){const f=r[o];X(e,f,t[f])}}function br(e,t){if(typeof t=="function"&&(t=t(e)),t=be(t),Array.isArray(t)){if(e===t)return;let r=0,o=t.length;for(;r<o;r++){const f=t[r];e[r]!==f&&X(e,r,f)}X(e,"length",o)}else Gt(e,t)}function Ae(e,t,r=[]){let o,f=e;if(t.length>1){o=t.shift();const v=typeof o,d=Array.isArray(e);if(Array.isArray(o)){for(let E=0;E<o.length;E++)Ae(e,[o[E]].concat(t),r);return}else if(d&&v==="function"){for(let E=0;E<e.length;E++)o(e[E],E)&&Ae(e,[E].concat(t),r);return}else if(d&&v==="object"){const{from:E=0,to:y=e.length-1,by:h=1}=o;for(let m=E;m<=y;m+=h)Ae(e,[m].concat(t),r);return}else if(t.length>1){Ae(e[o],t,[o].concat(r));return}f=e[o],r=[o].concat(r)}let s=t[0];typeof s=="function"&&(s=s(f,r),s===f)||o===void 0&&s==null||(s=be(s),o===void 0||ue(f)&&ue(s)&&!Array.isArray(s)?Gt(f,s):X(e,o,s))}function wr(...[e,t]){const r=be(e||{}),o=Array.isArray(r),f=Vt(r);function s(...v){Zn(()=>{o&&v.length===1?br(r,v[0]):Ae(r,v)})}return[f,s]}const it=Symbol("store-root");function ye(e,t,r,o,f){const s=t[r];if(e===s)return;const v=Array.isArray(e);if(r!==it&&(!ue(e)||!ue(s)||v!==Array.isArray(s)||f&&e[f]!==s[f])){X(t,r,e);return}if(v){if(e.length&&s.length&&(!o||f&&e[0]&&e[0][f]!=null)){let y,h,m,b,I,$,B,O;for(m=0,b=Math.min(s.length,e.length);m<b&&(s[m]===e[m]||f&&s[m]&&e[m]&&s[m][f]===e[m][f]);m++)ye(e[m],s,m,o,f);const M=new Array(e.length),R=new Map;for(b=s.length-1,I=e.length-1;b>=m&&I>=m&&(s[b]===e[I]||f&&s[m]&&e[m]&&s[b][f]===e[I][f]);b--,I--)M[I]=s[b];if(m>I||m>b){for(h=m;h<=I;h++)X(s,h,e[h]);for(;h<e.length;h++)X(s,h,M[h]),ye(e[h],s,h,o,f);s.length>e.length&&X(s,"length",e.length);return}for(B=new Array(I+1),h=I;h>=m;h--)$=e[h],O=f&&$?$[f]:$,y=R.get(O),B[h]=y===void 0?-1:y,R.set(O,h);for(y=m;y<=b;y++)$=s[y],O=f&&$?$[f]:$,h=R.get(O),h!==void 0&&h!==-1&&(M[h]=s[y],h=B[h],R.set(O,h));for(h=m;h<e.length;h++)h in M?(X(s,h,M[h]),ye(e[h],s,h,o,f)):X(s,h,e[h])}else for(let y=0,h=e.length;y<h;y++)ye(e[y],s,y,o,f);s.length>e.length&&X(s,"length",e.length);return}const d=Object.keys(e);for(let y=0,h=d.length;y<h;y++)ye(e[d[y]],s,d[y],o,f);const E=Object.keys(s);for(let y=0,h=E.length;y<h;y++)e[E[y]]===void 0&&X(s,E[y],void 0)}function _r(e,t={}){const{merge:r,key:o="id"}=t,f=be(e);return s=>{if(!ue(s)||!ue(f))return f;const v=ye(f,{[it]:s},it,r,o);return v===void 0?s:v}}var Sr=e=>(typeof e.clear=="function"||(e.clear=()=>{let t;for(;t=e.key(0);)e.removeItem(t)}),e),Tr=["clear","getItem","getAll","setItem","removeItem","key","getLength"],Er=e=>(e.withOptions=t=>Tr.reduce((r,o)=>(typeof e[o]=="function"&&(r[o]=(...f)=>(f[e[o].length-1]=t,e[o](...f))),r),{get length(){return e.length},withOptions:r=>e.withOptions(r)}),e),Ar=["domain","expires","path","secure","httpOnly","maxAge","sameSite"];function Ir(e){if(!e)return"";let t="";for(const r in e){if(!Ar.includes(r))continue;const o=e[r];t+=o instanceof Date?`; ${r}=${o.toUTCString()}`:typeof o=="boolean"?`; ${r}`:`; ${r}=${o}`}return t}function $r(e,t){var r;return((r=e.match(`(^|;)\\s*${t}\\s*=\\s*([^;]+)`))==null?void 0:r.pop())??null}var Ee=Er(Sr({_read:()=>document.cookie,_write:(e,t,r)=>{document.cookie=`${e}=${t}${Ir(r)}`},getItem:(e,t)=>$r(Ee._read(t),e),setItem:(e,t,r)=>{Ee._write(e,t,r)},removeItem:(e,t)=>{Ee._write(e,"deleted",{...t,expires:new Date(0)})},key:(e,t)=>{let r=null,o=0;return Ee._read(t).replace(/(?:^|;)\s*(.+?)\s*=\s*[^;]+/g,(f,s)=>(!r&&s&&o++===e&&(r=s),"")),r},getLength:e=>{let t=0;return Ee._read(e).replace(/(?:^|;)\s*.+?\s*=\s*[^;]+/g,r=>(t+=r?1:0,"")),t},get length(){return this.getLength()}}));function Dr(e,t={}){var h;const r=t.storage||globalThis.localStorage;if(!r)return e;const o=t.storageOptions,f=t.name||`storage-${ur()}`,s=t.serialize||JSON.stringify.bind(JSON),v=t.deserialize||JSON.parse.bind(JSON),d=r.getItem(f,o),E=typeof e[0]=="function"?m=>{try{const b=v(m);e[1](()=>b)}catch{}}:m=>{try{const b=v(m);e[1](_r(b))}catch{}};let y=!0;if(d instanceof Promise?d.then(m=>y&&m&&E(m)):d&&E(d),typeof((h=t.sync)==null?void 0:h[0])=="function"){const m=typeof e[0]=="function"?e[0]:()=>e[0];t.sync[0](b=>{b.key!==f||(b.url||globalThis.location.href)!==globalThis.location.href||b.newValue===s(fe(m))||E(b.newValue)})}return[e[0],typeof e[0]=="function"?m=>{var $;const b=e[1](m),I=m!=null?s(b):m;return($=t.sync)==null||$[1](f,I),m!=null?r.setItem(f,I,o):r.removeItem(f,o),y=!1,b}:(...m)=>{var I;e[1](...m);const b=s(fe(()=>e[0]));(I=t.sync)==null||I[1](f,b),r.setItem(f,b,o),y=!1}]}var Ne=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Oe(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Qt={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(e,t){(function(r){e.exports=r()})(function(){return function r(o,f,s){function v(y,h){if(!f[y]){if(!o[y]){var m=typeof Oe=="function"&&Oe;if(!h&&m)return m(y,!0);if(d)return d(y,!0);var b=new Error("Cannot find module '"+y+"'");throw b.code="MODULE_NOT_FOUND",b}var I=f[y]={exports:{}};o[y][0].call(I.exports,function($){var B=o[y][1][$];return v(B||$)},I,I.exports,r,o,f,s)}return f[y].exports}for(var d=typeof Oe=="function"&&Oe,E=0;E<s.length;E++)v(s[E]);return v}({1:[function(r,o,f){(function(s){var v=s.MutationObserver||s.WebKitMutationObserver,d;if(v){var E=0,y=new v($),h=s.document.createTextNode("");y.observe(h,{characterData:!0}),d=function(){h.data=E=++E%2}}else if(!s.setImmediate&&typeof s.MessageChannel<"u"){var m=new s.MessageChannel;m.port1.onmessage=$,d=function(){m.port2.postMessage(0)}}else"document"in s&&"onreadystatechange"in s.document.createElement("script")?d=function(){var O=s.document.createElement("script");O.onreadystatechange=function(){$(),O.onreadystatechange=null,O.parentNode.removeChild(O),O=null},s.document.documentElement.appendChild(O)}:d=function(){setTimeout($,0)};var b,I=[];function $(){b=!0;for(var O,M,R=I.length;R;){for(M=I,I=[],O=-1;++O<R;)M[O]();R=I.length}b=!1}o.exports=B;function B(O){I.push(O)===1&&!b&&d()}}).call(this,typeof Ne<"u"?Ne:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(r,o,f){var s=r(1);function v(){}var d={},E=["REJECTED"],y=["FULFILLED"],h=["PENDING"];o.exports=m;function m(T){if(typeof T!="function")throw new TypeError("resolver must be a function");this.state=h,this.queue=[],this.outcome=void 0,T!==v&&B(this,T)}m.prototype.catch=function(T){return this.then(null,T)},m.prototype.then=function(T,N){if(typeof T!="function"&&this.state===y||typeof N!="function"&&this.state===E)return this;var x=new this.constructor(v);if(this.state!==h){var L=this.state===y?T:N;I(x,L,this.outcome)}else this.queue.push(new b(x,T,N));return x};function b(T,N,x){this.promise=T,typeof N=="function"&&(this.onFulfilled=N,this.callFulfilled=this.otherCallFulfilled),typeof x=="function"&&(this.onRejected=x,this.callRejected=this.otherCallRejected)}b.prototype.callFulfilled=function(T){d.resolve(this.promise,T)},b.prototype.otherCallFulfilled=function(T){I(this.promise,this.onFulfilled,T)},b.prototype.callRejected=function(T){d.reject(this.promise,T)},b.prototype.otherCallRejected=function(T){I(this.promise,this.onRejected,T)};function I(T,N,x){s(function(){var L;try{L=N(x)}catch(W){return d.reject(T,W)}L===T?d.reject(T,new TypeError("Cannot resolve promise with itself")):d.resolve(T,L)})}d.resolve=function(T,N){var x=O($,N);if(x.status==="error")return d.reject(T,x.value);var L=x.value;if(L)B(T,L);else{T.state=y,T.outcome=N;for(var W=-1,V=T.queue.length;++W<V;)T.queue[W].callFulfilled(N)}return T},d.reject=function(T,N){T.state=E,T.outcome=N;for(var x=-1,L=T.queue.length;++x<L;)T.queue[x].callRejected(N);return T};function $(T){var N=T&&T.then;if(T&&(typeof T=="object"||typeof T=="function")&&typeof N=="function")return function(){N.apply(T,arguments)}}function B(T,N){var x=!1;function L(G){x||(x=!0,d.reject(T,G))}function W(G){x||(x=!0,d.resolve(T,G))}function V(){N(W,L)}var H=O(V);H.status==="error"&&L(H.value)}function O(T,N){var x={};try{x.value=T(N),x.status="success"}catch(L){x.status="error",x.value=L}return x}m.resolve=M;function M(T){return T instanceof this?T:d.resolve(new this(v),T)}m.reject=R;function R(T){var N=new this(v);return d.reject(N,T)}m.all=K;function K(T){var N=this;if(Object.prototype.toString.call(T)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=T.length,L=!1;if(!x)return this.resolve([]);for(var W=new Array(x),V=0,H=-1,G=new this(v);++H<x;)te(T[H],H);return G;function te(_e,De){N.resolve(_e).then(je,function(he){L||(L=!0,d.reject(G,he))});function je(he){W[De]=he,++V===x&&!L&&(L=!0,d.resolve(G,W))}}}m.race=j;function j(T){var N=this;if(Object.prototype.toString.call(T)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=T.length,L=!1;if(!x)return this.resolve([]);for(var W=-1,V=new this(v);++W<x;)H(T[W]);return V;function H(G){N.resolve(G).then(function(te){L||(L=!0,d.resolve(V,te))},function(te){L||(L=!0,d.reject(V,te))})}}},{1:1}],3:[function(r,o,f){(function(s){typeof s.Promise!="function"&&(s.Promise=r(2))}).call(this,typeof Ne<"u"?Ne:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(r,o,f){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};function v(n,a){if(!(n instanceof a))throw new TypeError("Cannot call a class as a function")}function d(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var E=d();function y(){try{if(!E||!E.open)return!1;var n=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),a=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!n||a)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function h(n,a){n=n||[],a=a||{};try{return new Blob(n,a)}catch(u){if(u.name!=="TypeError")throw u;for(var i=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,l=new i,c=0;c<n.length;c+=1)l.append(n[c]);return l.getBlob(a.type)}}typeof Promise>"u"&&r(3);var m=Promise;function b(n,a){a&&n.then(function(i){a(null,i)},function(i){a(i)})}function I(n,a,i){typeof a=="function"&&n.then(a),typeof i=="function"&&n.catch(i)}function $(n){return typeof n!="string"&&(console.warn(n+" used as a key, but it is not a string."),n=String(n)),n}function B(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var O="local-forage-detect-blob-support",M=void 0,R={},K=Object.prototype.toString,j="readonly",T="readwrite";function N(n){for(var a=n.length,i=new ArrayBuffer(a),l=new Uint8Array(i),c=0;c<a;c++)l[c]=n.charCodeAt(c);return i}function x(n){return new m(function(a){var i=n.transaction(O,T),l=h([""]);i.objectStore(O).put(l,"key"),i.onabort=function(c){c.preventDefault(),c.stopPropagation(),a(!1)},i.oncomplete=function(){var c=navigator.userAgent.match(/Chrome\/(\d+)/),u=navigator.userAgent.match(/Edge\//);a(u||!c||parseInt(c[1],10)>=43)}}).catch(function(){return!1})}function L(n){return typeof M=="boolean"?m.resolve(M):x(n).then(function(a){return M=a,M})}function W(n){var a=R[n.name],i={};i.promise=new m(function(l,c){i.resolve=l,i.reject=c}),a.deferredOperations.push(i),a.dbReady?a.dbReady=a.dbReady.then(function(){return i.promise}):a.dbReady=i.promise}function V(n){var a=R[n.name],i=a.deferredOperations.pop();if(i)return i.resolve(),i.promise}function H(n,a){var i=R[n.name],l=i.deferredOperations.pop();if(l)return l.reject(a),l.promise}function G(n,a){return new m(function(i,l){if(R[n.name]=R[n.name]||st(),n.db)if(a)W(n),n.db.close();else return i(n.db);var c=[n.name];a&&c.push(n.version);var u=E.open.apply(E,c);a&&(u.onupgradeneeded=function(g){var p=u.result;try{p.createObjectStore(n.storeName),g.oldVersion<=1&&p.createObjectStore(O)}catch(w){if(w.name==="ConstraintError")console.warn('The database "'+n.name+'" has been upgraded from version '+g.oldVersion+" to version "+g.newVersion+', but the storage "'+n.storeName+'" already exists.');else throw w}}),u.onerror=function(g){g.preventDefault(),l(u.error)},u.onsuccess=function(){var g=u.result;g.onversionchange=function(p){p.target.close()},i(g),V(n)}})}function te(n){return G(n,!1)}function _e(n){return G(n,!0)}function De(n,a){if(!n.db)return!0;var i=!n.db.objectStoreNames.contains(n.storeName),l=n.version<n.db.version,c=n.version>n.db.version;if(l&&(n.version!==a&&console.warn('The database "'+n.name+`" can't be downgraded from version `+n.db.version+" to version "+n.version+"."),n.version=n.db.version),c||i){if(i){var u=n.db.version+1;u>n.version&&(n.version=u)}return!0}return!1}function je(n){return new m(function(a,i){var l=new FileReader;l.onerror=i,l.onloadend=function(c){var u=btoa(c.target.result||"");a({__local_forage_encoded_blob:!0,data:u,type:n.type})},l.readAsBinaryString(n)})}function he(n){var a=N(atob(n.data));return h([a],{type:n.type})}function at(n){return n&&n.__local_forage_encoded_blob}function Xt(n){var a=this,i=a._initReady().then(function(){var l=R[a._dbInfo.name];if(l&&l.dbReady)return l.dbReady});return I(i,n,n),i}function Jt(n){W(n);for(var a=R[n.name],i=a.forages,l=0;l<i.length;l++){var c=i[l];c._dbInfo.db&&(c._dbInfo.db.close(),c._dbInfo.db=null)}return n.db=null,te(n).then(function(u){return n.db=u,De(n)?_e(n):u}).then(function(u){n.db=a.db=u;for(var g=0;g<i.length;g++)i[g]._dbInfo.db=u}).catch(function(u){throw H(n,u),u})}function ne(n,a,i,l){l===void 0&&(l=1);try{var c=n.db.transaction(n.storeName,a);i(null,c)}catch(u){if(l>0&&(!n.db||u.name==="InvalidStateError"||u.name==="NotFoundError"))return m.resolve().then(function(){if(!n.db||u.name==="NotFoundError"&&!n.db.objectStoreNames.contains(n.storeName)&&n.version<=n.db.version)return n.db&&(n.version=n.db.version+1),_e(n)}).then(function(){return Jt(n).then(function(){ne(n,a,i,l-1)})}).catch(i);i(u)}}function st(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function qt(n){var a=this,i={db:null};if(n)for(var l in n)i[l]=n[l];var c=R[i.name];c||(c=st(),R[i.name]=c),c.forages.push(a),a._initReady||(a._initReady=a.ready,a.ready=Xt);var u=[];function g(){return m.resolve()}for(var p=0;p<c.forages.length;p++){var w=c.forages[p];w!==a&&u.push(w._initReady().catch(g))}var _=c.forages.slice(0);return m.all(u).then(function(){return i.db=c.db,te(i)}).then(function(S){return i.db=S,De(i,a._defaultConfig.version)?_e(i):S}).then(function(S){i.db=c.db=S,a._dbInfo=i;for(var A=0;A<_.length;A++){var D=_[A];D!==a&&(D._dbInfo.db=i.db,D._dbInfo.version=i.version)}})}function Zt(n,a){var i=this;n=$(n);var l=new m(function(c,u){i.ready().then(function(){ne(i._dbInfo,j,function(g,p){if(g)return u(g);try{var w=p.objectStore(i._dbInfo.storeName),_=w.get(n);_.onsuccess=function(){var S=_.result;S===void 0&&(S=null),at(S)&&(S=he(S)),c(S)},_.onerror=function(){u(_.error)}}catch(S){u(S)}})}).catch(u)});return b(l,a),l}function en(n,a){var i=this,l=new m(function(c,u){i.ready().then(function(){ne(i._dbInfo,j,function(g,p){if(g)return u(g);try{var w=p.objectStore(i._dbInfo.storeName),_=w.openCursor(),S=1;_.onsuccess=function(){var A=_.result;if(A){var D=A.value;at(D)&&(D=he(D));var C=n(D,A.key,S++);C!==void 0?c(C):A.continue()}else c()},_.onerror=function(){u(_.error)}}catch(A){u(A)}})}).catch(u)});return b(l,a),l}function tn(n,a,i){var l=this;n=$(n);var c=new m(function(u,g){var p;l.ready().then(function(){return p=l._dbInfo,K.call(a)==="[object Blob]"?L(p.db).then(function(w){return w?a:je(a)}):a}).then(function(w){ne(l._dbInfo,T,function(_,S){if(_)return g(_);try{var A=S.objectStore(l._dbInfo.storeName);w===null&&(w=void 0);var D=A.put(w,n);S.oncomplete=function(){w===void 0&&(w=null),u(w)},S.onabort=S.onerror=function(){var C=D.error?D.error:D.transaction.error;g(C)}}catch(C){g(C)}})}).catch(g)});return b(c,i),c}function nn(n,a){var i=this;n=$(n);var l=new m(function(c,u){i.ready().then(function(){ne(i._dbInfo,T,function(g,p){if(g)return u(g);try{var w=p.objectStore(i._dbInfo.storeName),_=w.delete(n);p.oncomplete=function(){c()},p.onerror=function(){u(_.error)},p.onabort=function(){var S=_.error?_.error:_.transaction.error;u(S)}}catch(S){u(S)}})}).catch(u)});return b(l,a),l}function rn(n){var a=this,i=new m(function(l,c){a.ready().then(function(){ne(a._dbInfo,T,function(u,g){if(u)return c(u);try{var p=g.objectStore(a._dbInfo.storeName),w=p.clear();g.oncomplete=function(){l()},g.onabort=g.onerror=function(){var _=w.error?w.error:w.transaction.error;c(_)}}catch(_){c(_)}})}).catch(c)});return b(i,n),i}function on(n){var a=this,i=new m(function(l,c){a.ready().then(function(){ne(a._dbInfo,j,function(u,g){if(u)return c(u);try{var p=g.objectStore(a._dbInfo.storeName),w=p.count();w.onsuccess=function(){l(w.result)},w.onerror=function(){c(w.error)}}catch(_){c(_)}})}).catch(c)});return b(i,n),i}function an(n,a){var i=this,l=new m(function(c,u){if(n<0){c(null);return}i.ready().then(function(){ne(i._dbInfo,j,function(g,p){if(g)return u(g);try{var w=p.objectStore(i._dbInfo.storeName),_=!1,S=w.openKeyCursor();S.onsuccess=function(){var A=S.result;if(!A){c(null);return}n===0||_?c(A.key):(_=!0,A.advance(n))},S.onerror=function(){u(S.error)}}catch(A){u(A)}})}).catch(u)});return b(l,a),l}function sn(n){var a=this,i=new m(function(l,c){a.ready().then(function(){ne(a._dbInfo,j,function(u,g){if(u)return c(u);try{var p=g.objectStore(a._dbInfo.storeName),w=p.openKeyCursor(),_=[];w.onsuccess=function(){var S=w.result;if(!S){l(_);return}_.push(S.key),S.continue()},w.onerror=function(){c(w.error)}}catch(S){c(S)}})}).catch(c)});return b(i,n),i}function fn(n,a){a=B.apply(this,arguments);var i=this.config();n=typeof n!="function"&&n||{},n.name||(n.name=n.name||i.name,n.storeName=n.storeName||i.storeName);var l=this,c;if(!n.name)c=m.reject("Invalid arguments");else{var u=n.name===i.name&&l._dbInfo.db,g=u?m.resolve(l._dbInfo.db):te(n).then(function(p){var w=R[n.name],_=w.forages;w.db=p;for(var S=0;S<_.length;S++)_[S]._dbInfo.db=p;return p});n.storeName?c=g.then(function(p){if(p.objectStoreNames.contains(n.storeName)){var w=p.version+1;W(n);var _=R[n.name],S=_.forages;p.close();for(var A=0;A<S.length;A++){var D=S[A];D._dbInfo.db=null,D._dbInfo.version=w}var C=new m(function(P,U){var k=E.open(n.name,w);k.onerror=function(Q){var Te=k.result;Te.close(),U(Q)},k.onupgradeneeded=function(){var Q=k.result;Q.deleteObjectStore(n.storeName)},k.onsuccess=function(){var Q=k.result;Q.close(),P(Q)}});return C.then(function(P){_.db=P;for(var U=0;U<S.length;U++){var k=S[U];k._dbInfo.db=P,V(k._dbInfo)}}).catch(function(P){throw(H(n,P)||m.resolve()).catch(function(){}),P})}}):c=g.then(function(p){W(n);var w=R[n.name],_=w.forages;p.close();for(var S=0;S<_.length;S++){var A=_[S];A._dbInfo.db=null}var D=new m(function(C,P){var U=E.deleteDatabase(n.name);U.onerror=function(){var k=U.result;k&&k.close(),P(U.error)},U.onblocked=function(){console.warn('dropInstance blocked for database "'+n.name+'" until all open connections are closed')},U.onsuccess=function(){var k=U.result;k&&k.close(),C(k)}});return D.then(function(C){w.db=C;for(var P=0;P<_.length;P++){var U=_[P];V(U._dbInfo)}}).catch(function(C){throw(H(n,C)||m.resolve()).catch(function(){}),C})})}return b(c,a),c}var un={_driver:"asyncStorage",_initStorage:qt,_support:y(),iterate:en,getItem:Zt,setItem:tn,removeItem:nn,clear:rn,length:on,key:an,keys:sn,dropInstance:fn};function ln(){return typeof openDatabase=="function"}var oe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",cn="~~local_forage_type~",ft=/^~~local_forage_type~([^~]+)~/,xe="__lfsc__:",We=xe.length,ze="arbf",Ke="blob",ut="si08",lt="ui08",ct="uic8",dt="si16",ht="si32",vt="ur16",mt="ui32",gt="fl32",yt="fl64",pt=We+ze.length,bt=Object.prototype.toString;function wt(n){var a=n.length*.75,i=n.length,l,c=0,u,g,p,w;n[n.length-1]==="="&&(a--,n[n.length-2]==="="&&a--);var _=new ArrayBuffer(a),S=new Uint8Array(_);for(l=0;l<i;l+=4)u=oe.indexOf(n[l]),g=oe.indexOf(n[l+1]),p=oe.indexOf(n[l+2]),w=oe.indexOf(n[l+3]),S[c++]=u<<2|g>>4,S[c++]=(g&15)<<4|p>>2,S[c++]=(p&3)<<6|w&63;return _}function Ve(n){var a=new Uint8Array(n),i="",l;for(l=0;l<a.length;l+=3)i+=oe[a[l]>>2],i+=oe[(a[l]&3)<<4|a[l+1]>>4],i+=oe[(a[l+1]&15)<<2|a[l+2]>>6],i+=oe[a[l+2]&63];return a.length%3===2?i=i.substring(0,i.length-1)+"=":a.length%3===1&&(i=i.substring(0,i.length-2)+"=="),i}function dn(n,a){var i="";if(n&&(i=bt.call(n)),n&&(i==="[object ArrayBuffer]"||n.buffer&&bt.call(n.buffer)==="[object ArrayBuffer]")){var l,c=xe;n instanceof ArrayBuffer?(l=n,c+=ze):(l=n.buffer,i==="[object Int8Array]"?c+=ut:i==="[object Uint8Array]"?c+=lt:i==="[object Uint8ClampedArray]"?c+=ct:i==="[object Int16Array]"?c+=dt:i==="[object Uint16Array]"?c+=vt:i==="[object Int32Array]"?c+=ht:i==="[object Uint32Array]"?c+=mt:i==="[object Float32Array]"?c+=gt:i==="[object Float64Array]"?c+=yt:a(new Error("Failed to get type for BinaryArray"))),a(c+Ve(l))}else if(i==="[object Blob]"){var u=new FileReader;u.onload=function(){var g=cn+n.type+"~"+Ve(this.result);a(xe+Ke+g)},u.readAsArrayBuffer(n)}else try{a(JSON.stringify(n))}catch(g){console.error("Couldn't convert value into a JSON string: ",n),a(null,g)}}function hn(n){if(n.substring(0,We)!==xe)return JSON.parse(n);var a=n.substring(pt),i=n.substring(We,pt),l;if(i===Ke&&ft.test(a)){var c=a.match(ft);l=c[1],a=a.substring(c[0].length)}var u=wt(a);switch(i){case ze:return u;case Ke:return h([u],{type:l});case ut:return new Int8Array(u);case lt:return new Uint8Array(u);case ct:return new Uint8ClampedArray(u);case dt:return new Int16Array(u);case vt:return new Uint16Array(u);case ht:return new Int32Array(u);case mt:return new Uint32Array(u);case gt:return new Float32Array(u);case yt:return new Float64Array(u);default:throw new Error("Unkown type: "+i)}}var He={serialize:dn,deserialize:hn,stringToBuffer:wt,bufferToString:Ve};function _t(n,a,i,l){n.executeSql("CREATE TABLE IF NOT EXISTS "+a.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],i,l)}function vn(n){var a=this,i={db:null};if(n)for(var l in n)i[l]=typeof n[l]!="string"?n[l].toString():n[l];var c=new m(function(u,g){try{i.db=openDatabase(i.name,String(i.version),i.description,i.size)}catch(p){return g(p)}i.db.transaction(function(p){_t(p,i,function(){a._dbInfo=i,u()},function(w,_){g(_)})},g)});return i.serializer=He,c}function ae(n,a,i,l,c,u){n.executeSql(i,l,c,function(g,p){p.code===p.SYNTAX_ERR?g.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[a.storeName],function(w,_){_.rows.length?u(w,p):_t(w,a,function(){w.executeSql(i,l,c,u)},u)},u):u(g,p)},u)}function mn(n,a){var i=this;n=$(n);var l=new m(function(c,u){i.ready().then(function(){var g=i._dbInfo;g.db.transaction(function(p){ae(p,g,"SELECT * FROM "+g.storeName+" WHERE key = ? LIMIT 1",[n],function(w,_){var S=_.rows.length?_.rows.item(0).value:null;S&&(S=g.serializer.deserialize(S)),c(S)},function(w,_){u(_)})})}).catch(u)});return b(l,a),l}function gn(n,a){var i=this,l=new m(function(c,u){i.ready().then(function(){var g=i._dbInfo;g.db.transaction(function(p){ae(p,g,"SELECT * FROM "+g.storeName,[],function(w,_){for(var S=_.rows,A=S.length,D=0;D<A;D++){var C=S.item(D),P=C.value;if(P&&(P=g.serializer.deserialize(P)),P=n(P,C.key,D+1),P!==void 0){c(P);return}}c()},function(w,_){u(_)})})}).catch(u)});return b(l,a),l}function St(n,a,i,l){var c=this;n=$(n);var u=new m(function(g,p){c.ready().then(function(){a===void 0&&(a=null);var w=a,_=c._dbInfo;_.serializer.serialize(a,function(S,A){A?p(A):_.db.transaction(function(D){ae(D,_,"INSERT OR REPLACE INTO "+_.storeName+" (key, value) VALUES (?, ?)",[n,S],function(){g(w)},function(C,P){p(P)})},function(D){if(D.code===D.QUOTA_ERR){if(l>0){g(St.apply(c,[n,w,i,l-1]));return}p(D)}})})}).catch(p)});return b(u,i),u}function yn(n,a,i){return St.apply(this,[n,a,i,1])}function pn(n,a){var i=this;n=$(n);var l=new m(function(c,u){i.ready().then(function(){var g=i._dbInfo;g.db.transaction(function(p){ae(p,g,"DELETE FROM "+g.storeName+" WHERE key = ?",[n],function(){c()},function(w,_){u(_)})})}).catch(u)});return b(l,a),l}function bn(n){var a=this,i=new m(function(l,c){a.ready().then(function(){var u=a._dbInfo;u.db.transaction(function(g){ae(g,u,"DELETE FROM "+u.storeName,[],function(){l()},function(p,w){c(w)})})}).catch(c)});return b(i,n),i}function wn(n){var a=this,i=new m(function(l,c){a.ready().then(function(){var u=a._dbInfo;u.db.transaction(function(g){ae(g,u,"SELECT COUNT(key) as c FROM "+u.storeName,[],function(p,w){var _=w.rows.item(0).c;l(_)},function(p,w){c(w)})})}).catch(c)});return b(i,n),i}function _n(n,a){var i=this,l=new m(function(c,u){i.ready().then(function(){var g=i._dbInfo;g.db.transaction(function(p){ae(p,g,"SELECT key FROM "+g.storeName+" WHERE id = ? LIMIT 1",[n+1],function(w,_){var S=_.rows.length?_.rows.item(0).key:null;c(S)},function(w,_){u(_)})})}).catch(u)});return b(l,a),l}function Sn(n){var a=this,i=new m(function(l,c){a.ready().then(function(){var u=a._dbInfo;u.db.transaction(function(g){ae(g,u,"SELECT key FROM "+u.storeName,[],function(p,w){for(var _=[],S=0;S<w.rows.length;S++)_.push(w.rows.item(S).key);l(_)},function(p,w){c(w)})})}).catch(c)});return b(i,n),i}function Tn(n){return new m(function(a,i){n.transaction(function(l){l.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(c,u){for(var g=[],p=0;p<u.rows.length;p++)g.push(u.rows.item(p).name);a({db:n,storeNames:g})},function(c,u){i(u)})},function(l){i(l)})})}function En(n,a){a=B.apply(this,arguments);var i=this.config();n=typeof n!="function"&&n||{},n.name||(n.name=n.name||i.name,n.storeName=n.storeName||i.storeName);var l=this,c;return n.name?c=new m(function(u){var g;n.name===i.name?g=l._dbInfo.db:g=openDatabase(n.name,"","",0),n.storeName?u({db:g,storeNames:[n.storeName]}):u(Tn(g))}).then(function(u){return new m(function(g,p){u.db.transaction(function(w){function _(C){return new m(function(P,U){w.executeSql("DROP TABLE IF EXISTS "+C,[],function(){P()},function(k,Q){U(Q)})})}for(var S=[],A=0,D=u.storeNames.length;A<D;A++)S.push(_(u.storeNames[A]));m.all(S).then(function(){g()}).catch(function(C){p(C)})},function(w){p(w)})})}):c=m.reject("Invalid arguments"),b(c,a),c}var An={_driver:"webSQLStorage",_initStorage:vn,_support:ln(),iterate:gn,getItem:mn,setItem:yn,removeItem:pn,clear:bn,length:wn,key:_n,keys:Sn,dropInstance:En};function In(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Tt(n,a){var i=n.name+"/";return n.storeName!==a.storeName&&(i+=n.storeName+"/"),i}function $n(){var n="_localforage_support_test";try{return localStorage.setItem(n,!0),localStorage.removeItem(n),!1}catch{return!0}}function Dn(){return!$n()||localStorage.length>0}function xn(n){var a=this,i={};if(n)for(var l in n)i[l]=n[l];return i.keyPrefix=Tt(n,a._defaultConfig),Dn()?(a._dbInfo=i,i.serializer=He,m.resolve()):m.reject()}function Rn(n){var a=this,i=a.ready().then(function(){for(var l=a._dbInfo.keyPrefix,c=localStorage.length-1;c>=0;c--){var u=localStorage.key(c);u.indexOf(l)===0&&localStorage.removeItem(u)}});return b(i,n),i}function Nn(n,a){var i=this;n=$(n);var l=i.ready().then(function(){var c=i._dbInfo,u=localStorage.getItem(c.keyPrefix+n);return u&&(u=c.serializer.deserialize(u)),u});return b(l,a),l}function On(n,a){var i=this,l=i.ready().then(function(){for(var c=i._dbInfo,u=c.keyPrefix,g=u.length,p=localStorage.length,w=1,_=0;_<p;_++){var S=localStorage.key(_);if(S.indexOf(u)===0){var A=localStorage.getItem(S);if(A&&(A=c.serializer.deserialize(A)),A=n(A,S.substring(g),w++),A!==void 0)return A}}});return b(l,a),l}function Cn(n,a){var i=this,l=i.ready().then(function(){var c=i._dbInfo,u;try{u=localStorage.key(n)}catch{u=null}return u&&(u=u.substring(c.keyPrefix.length)),u});return b(l,a),l}function Pn(n){var a=this,i=a.ready().then(function(){for(var l=a._dbInfo,c=localStorage.length,u=[],g=0;g<c;g++){var p=localStorage.key(g);p.indexOf(l.keyPrefix)===0&&u.push(p.substring(l.keyPrefix.length))}return u});return b(i,n),i}function Ln(n){var a=this,i=a.keys().then(function(l){return l.length});return b(i,n),i}function Bn(n,a){var i=this;n=$(n);var l=i.ready().then(function(){var c=i._dbInfo;localStorage.removeItem(c.keyPrefix+n)});return b(l,a),l}function kn(n,a,i){var l=this;n=$(n);var c=l.ready().then(function(){a===void 0&&(a=null);var u=a;return new m(function(g,p){var w=l._dbInfo;w.serializer.serialize(a,function(_,S){if(S)p(S);else try{localStorage.setItem(w.keyPrefix+n,_),g(u)}catch(A){(A.name==="QuotaExceededError"||A.name==="NS_ERROR_DOM_QUOTA_REACHED")&&p(A),p(A)}})})});return b(c,i),c}function Fn(n,a){if(a=B.apply(this,arguments),n=typeof n!="function"&&n||{},!n.name){var i=this.config();n.name=n.name||i.name,n.storeName=n.storeName||i.storeName}var l=this,c;return n.name?c=new m(function(u){n.storeName?u(Tt(n,l._defaultConfig)):u(n.name+"/")}).then(function(u){for(var g=localStorage.length-1;g>=0;g--){var p=localStorage.key(g);p.indexOf(u)===0&&localStorage.removeItem(p)}}):c=m.reject("Invalid arguments"),b(c,a),c}var Mn={_driver:"localStorageWrapper",_initStorage:xn,_support:In(),iterate:On,getItem:Nn,setItem:kn,removeItem:Bn,clear:Rn,length:Ln,key:Cn,keys:Pn,dropInstance:Fn},Un=function(a,i){return a===i||typeof a=="number"&&typeof i=="number"&&isNaN(a)&&isNaN(i)},Yn=function(a,i){for(var l=a.length,c=0;c<l;){if(Un(a[c],i))return!0;c++}return!1},Et=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"},Se={},At={},ve={INDEXEDDB:un,WEBSQL:An,LOCALSTORAGE:Mn},jn=[ve.INDEXEDDB._driver,ve.WEBSQL._driver,ve.LOCALSTORAGE._driver],Re=["dropInstance"],Ge=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Re),Wn={description:"",driver:jn.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function zn(n,a){n[a]=function(){var i=arguments;return n.ready().then(function(){return n[a].apply(n,i)})}}function Qe(){for(var n=1;n<arguments.length;n++){var a=arguments[n];if(a)for(var i in a)a.hasOwnProperty(i)&&(Et(a[i])?arguments[0][i]=a[i].slice():arguments[0][i]=a[i])}return arguments[0]}var Kn=function(){function n(a){v(this,n);for(var i in ve)if(ve.hasOwnProperty(i)){var l=ve[i],c=l._driver;this[i]=c,Se[c]||this.defineDriver(l)}this._defaultConfig=Qe({},Wn),this._config=Qe({},this._defaultConfig,a),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return n.prototype.config=function(i){if((typeof i>"u"?"undefined":s(i))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var l in i){if(l==="storeName"&&(i[l]=i[l].replace(/\W/g,"_")),l==="version"&&typeof i[l]!="number")return new Error("Database version must be a number.");this._config[l]=i[l]}return"driver"in i&&i.driver?this.setDriver(this._config.driver):!0}else return typeof i=="string"?this._config[i]:this._config},n.prototype.defineDriver=function(i,l,c){var u=new m(function(g,p){try{var w=i._driver,_=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!i._driver){p(_);return}for(var S=Ge.concat("_initStorage"),A=0,D=S.length;A<D;A++){var C=S[A],P=!Yn(Re,C);if((P||i[C])&&typeof i[C]!="function"){p(_);return}}var U=function(){for(var Te=function(Gn){return function(){var Qn=new Error("Method "+Gn+" is not implemented by the current driver"),It=m.reject(Qn);return b(It,arguments[arguments.length-1]),It}},Xe=0,Hn=Re.length;Xe<Hn;Xe++){var Je=Re[Xe];i[Je]||(i[Je]=Te(Je))}};U();var k=function(Te){Se[w]&&console.info("Redefining LocalForage driver: "+w),Se[w]=i,At[w]=Te,g()};"_support"in i?i._support&&typeof i._support=="function"?i._support().then(k,p):k(!!i._support):k(!0)}catch(Q){p(Q)}});return I(u,l,c),u},n.prototype.driver=function(){return this._driver||null},n.prototype.getDriver=function(i,l,c){var u=Se[i]?m.resolve(Se[i]):m.reject(new Error("Driver not found."));return I(u,l,c),u},n.prototype.getSerializer=function(i){var l=m.resolve(He);return I(l,i),l},n.prototype.ready=function(i){var l=this,c=l._driverSet.then(function(){return l._ready===null&&(l._ready=l._initDriver()),l._ready});return I(c,i,i),c},n.prototype.setDriver=function(i,l,c){var u=this;Et(i)||(i=[i]);var g=this._getSupportedDrivers(i);function p(){u._config.driver=u.driver()}function w(A){return u._extend(A),p(),u._ready=u._initStorage(u._config),u._ready}function _(A){return function(){var D=0;function C(){for(;D<A.length;){var P=A[D];return D++,u._dbInfo=null,u._ready=null,u.getDriver(P).then(w).catch(C)}p();var U=new Error("No available storage method found.");return u._driverSet=m.reject(U),u._driverSet}return C()}}var S=this._driverSet!==null?this._driverSet.catch(function(){return m.resolve()}):m.resolve();return this._driverSet=S.then(function(){var A=g[0];return u._dbInfo=null,u._ready=null,u.getDriver(A).then(function(D){u._driver=D._driver,p(),u._wrapLibraryMethodsWithReady(),u._initDriver=_(g)})}).catch(function(){p();var A=new Error("No available storage method found.");return u._driverSet=m.reject(A),u._driverSet}),I(this._driverSet,l,c),this._driverSet},n.prototype.supports=function(i){return!!At[i]},n.prototype._extend=function(i){Qe(this,i)},n.prototype._getSupportedDrivers=function(i){for(var l=[],c=0,u=i.length;c<u;c++){var g=i[c];this.supports(g)&&l.push(g)}return l},n.prototype._wrapLibraryMethodsWithReady=function(){for(var i=0,l=Ge.length;i<l;i++)zn(this,Ge[i])},n.prototype.createInstance=function(i){return new n(i)},n}(),Vn=new Kn;o.exports=Vn},{3:3}]},{},[4])(4)})})(Qt);var Ct=Qt.exports;const xr=Ct.createInstance({name:"kagetask",driver:Ct.INDEXEDDB});var q;class Rr{constructor(){Dt(this,q,void 0);xt(this,q,xr)}getItem(t){return ce(this,q).getItem(t)}clear(){ce(this,q).clear()}async setItem(t,r){await ce(this,q).setItem(t,r)}async removeItem(t){await ce(this,q).removeItem(t)}async key(t){return(await ce(this,q).keys())[t]}get length(){return ce(this,q).keys().then(t=>t.length)}}q=new WeakMap;const Nr=new Rr;var Or=ee("<button type=button>Duplicate"),Cr=ee("<button type=button>Start"),Pr=ee("<button type=button>End"),Lr=ee("<button type=button>Clear Time"),Br=ee("<button type=button>Today"),kr=ee("<button type=button>Clear Date"),Fr=ee("<li><button type=button>x</button><button type=button>↑</button><button type=button>↓</button><input type=date><input type=time><input type=time><input type=text>");const Pt=e=>(Ft(()=>{console.log("Task:",e.task)}),(()=>{var t=Fr(),r=t.firstChild,o=r.nextSibling,f=o.nextSibling,s=f.nextSibling,v=s.nextSibling,d=v.nextSibling,E=d.nextSibling;return r.$$click=()=>{var y;(y=e.deleteTask)==null||y.call(e)},o.$$click=()=>{var y;return(y=e.up)==null?void 0:y.call(e)},f.$$click=()=>{var y;return(y=e.down)==null?void 0:y.call(e)},s.addEventListener("change",({target:y,currentTarget:{value:h}})=>{e.setTask("date",h),e.newItem&&(y.value="")}),v.addEventListener("change",({target:y,currentTarget:{value:h}})=>{e.setTask("startTime",h),e.newItem&&(y.value="")}),d.addEventListener("change",({target:y,currentTarget:{value:h}})=>{e.setTask("endTime",h),e.newItem&&(y.value="")}),E.addEventListener("change",({target:y,currentTarget:{value:h}})=>{e.setTask("title",h),e.newItem&&(y.value="")}),Z(t,J(me,{get when(){return!e.newItem},get children(){var y=Or();return vr(y,"click",e.duplicate),y}}),null),Z(t,J(me,{get when(){return!e.task.endTime&&!e.task.startTime},get children(){var y=Cr();return y.$$click=()=>{const h=new Date;e.setTask("startTime",`${`${h.getHours()}`.padStart(2,"0")}:${`${h.getMinutes()}`.padStart(2,"0")}`)},y}}),null),Z(t,J(me,{get when(){return e.task.startTime&&!e.task.endTime},get children(){var y=Pr();return y.$$click=()=>{const h=new Date;e.setTask("endTime",`${`${h.getHours()}`.padStart(2,"0")}:${`${h.getMinutes()}`.padStart(2,"0")}`)},y}}),null),Z(t,J(me,{get when(){return e.task.endTime},get children(){var y=Lr();return y.$$click=()=>{e.setTask("endTime",""),e.setTask("startTime","")},y}}),null),Z(t,J(me,{get when(){return!e.task.date},get children(){var y=Br();return y.$$click=()=>{const h=new Date;e.setTask("date",`${h.getFullYear()}-${`${h.getMonth()+1}`.padStart(2,"0")}-${`${h.getDate()}`.padStart(2,"0")}`)},y}}),null),Z(t,J(me,{get when(){return e.task.date},get children(){var y=kr();return y.$$click=()=>e.setTask("date",""),y}}),null),se(y=>{var h=e.newItem,m=e.up===void 0,b=e.down===void 0;return h!==y.e&&(r.disabled=y.e=h),m!==y.t&&(o.disabled=y.t=m),b!==y.a&&(f.disabled=y.a=b),y},{e:void 0,t:void 0,a:void 0}),se(()=>s.value=e.task.date??void 0),se(()=>v.value=e.task.startTime??void 0),se(()=>d.value=e.task.endTime??void 0),se(()=>E.value=e.task.title),t})());zt(["click"]);var Mr=ee("<ul>");const Ur=e=>(()=>{var t=Mr();return Z(t,J(cr,{get each(){return e.tasks},children:(r,o)=>J(Pt,{task:r,setTask:(f,s)=>{e.setTasks(v=>{const d=[...v];return d[o()]={...v[o()],[f]:s},d})},deleteTask:()=>{e.setTasks(f=>{const s=[...f];return s.splice(o(),1),s})},get up(){return o()===0?void 0:()=>{e.setTasks(f=>{const s=[...f],v=s[o()];return s[o()]=s[o()-1],s[o()-1]=v,s})}},get down(){return o()===e.tasks.length-1?()=>{e.setTasks(f=>{const s=[...f],v=s[o()];return s[o()]={title:""},s[o()+1]=v,s})}:()=>{e.setTasks(f=>{const s=[...f],v=s[o()];return s[o()]=s[o()+1],s[o()+1]=v,s})}},duplicate:()=>{e.setTasks(f=>{const s=[...f];return s.splice(o(),0,{date:f[o()].date,title:f[o()].title}),s})}})}),null),Z(t,J(Pt,{task:{title:""},setTask:(r,o)=>e.setTasks(f=>[...f,{title:"",[r]:o}]),up:()=>{e.setTasks(r=>{const o=[...r],f=o[e.tasks.length-1];return o[e.tasks.length-1]={title:""},o.push(f),o})},newItem:!0}),null),t})();var Yr=ee("<textarea readonly rows=6 cols=100>");const jr=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Wr=e=>{const t=()=>e.tasks.map(r=>{const o=r.date?new Date(r.date):void 0;return`  ${o?`${o.getFullYear()}/${`${o.getMonth()}`.padStart(2,"0")}/${`${o.getDate()}`.padStart(2,"0")} ${jr[o.getDay()]}`:"              "} ${r.startTime??"     "} ${r.endTime??"     "} ${r.title}`}).join(`
`);return(()=>{var r=Yr();return Z(r,t),r})()},zr=e=>{const t=/ hold:(\d)( |$)/.exec(e.title);if(t){const r=new Date;return r.setDate(r.getDate()+parseInt(t[1])),{...e,date:`${r.getFullYear()}-${`${r.getMonth()+1}`.padStart(2,"0")}-${`${r.getDate()}`.padStart(2,"0")}`}}return e},Kr=(e,t)=>{if((e.date===""||e.date===void 0)&&t.date!==""&&t.date!==void 0)return-1;if((t.date===""||t.date===void 0)&&e.date!==""&&e.date!==void 0)return 1;if(e.date!==""&&e.date!==void 0&&t.date!==""&&t.date!==void 0){const r=e.date?new Date(e.date):void 0,o=t.date?new Date(t.date):void 0,f=((r==null?void 0:r.getTime())??0)-((o==null?void 0:o.getTime())??0);if(f!==0)return f}if((e.startTime===""||e.startTime===void 0)&&t.startTime!==""&&t.startTime!==void 0)return 1;if(e.startTime!==""&&e.startTime!==void 0&&(t.startTime===""||t.startTime===void 0))return-1;if(e.startTime!==""&&e.startTime!==void 0&&t.startTime!==""&&t.startTime!==void 0){const r=(e.startTime??"").localeCompare(t.startTime??"");if(r!==0)return r}if((e.endTime===""||e.endTime===void 0)&&t.endTime!==""&&t.endTime!==void 0)return 1;if(e.endTime!==""&&e.endTime!==void 0&&(t.endTime===""||t.endTime===void 0))return-1;if(e.endTime!==""&&e.endTime!==void 0&&t.endTime!==""&&t.endTime!==void 0){const r=(e.endTime??"").localeCompare(t.endTime??"");if(r!==0)return r}return console.log("a:",e.title,"b:",t.title,e.title.localeCompare(t.title)),e.title.localeCompare(t.title)};var Vr=ee("<button>Sort");function Hr(){const[e,t]=Dr(wr([{title:"My Task"}]),{storage:Nr});return Ft(()=>{console.log("Tasks:",e)}),[(()=>{var r=Vr();return r.$$click=()=>{t(o=>{const f=[...o];console.log(f);const s=f.map(zr).sort(Kr);return console.log(s),s})},r})(),J(Ur,{tasks:e,setTasks:t}),J(Wr,{tasks:e})]}zt(["click"]);const Gr=document.getElementById("root");hr(()=>J(Hr,{}),Gr);
